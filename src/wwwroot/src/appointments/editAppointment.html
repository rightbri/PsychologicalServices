<template>
    <require from="common/address"></require>

    <h2>Edit Appointment</h2>
    <form>
        <div class="container-fluid">
            
            <div class="form-group">
                <label for="date">
                    Date
                </label>
                <input id="date" type="text" class="form-control" placeholder="YYYY-MM-DD" value.bind="appointmentDate & validate" />
            </div>

            <div class="form-group">
                <label for="time">
                    Time
                </label>
                <input id="time" type="text" class="form-control" placeholder="HH:MM" value.bind="appointmentTime & validate" />
            </div>

            <div class="form-group">
                <label for="status">Status</label>
                <select id="status" class="form-control" value.bind="appointment.appointmentStatusId & validate">
                    <option model.bind="null"></option>
                    <option repeat.for="appointmentStatus of appointmentStatuses" model.bind="appointmentStatus.appointmentStatusId">
                        ${appointmentStatus.name}
                    </option>
                </select>
            </div>

            <div class="form-group">
                <label>Address</label>
                <address address.bind="appointment.location"></address>
            </div>

            <div class="form-group">
                <label for="psychologist">Psychologist</label>
                <select id="psychologist" class="form-control" value.bind="appointment.psychologistId & validate">
                    <option model.bind="null"></option>
                    <option repeat.for="psychologist of psychologists" model.bind="psychologist.userId">
                        ${psychologist.firstName} ${psychologist.lastName}
                    </option>
                </select>
            </div>

            <div class="form-group">
                <label for="psychometrist">Psychometrist</label>
                <select id="psychometrist" class="form-control" value.bind="appointment.psychometristId & validate">
                    <option model.bind="null"></option>
                    <option repeat.for="psychometrist of psychometrists" model.bind="psychometrist.userId">
                        ${psychometrist.firstName} ${psychometrist.lastName}
                    </option>
                </select>
            </div>

            <button type="button" class="btn btn-primary" click.delegate="save()">Save</button>
            <ul if.bind="validationController.errors">
                <li repeat.for="error of validationController.errors" style="color: red;">
                    ${error.message}
                </li>
            </ul>
        </div>
    </form>

</template>