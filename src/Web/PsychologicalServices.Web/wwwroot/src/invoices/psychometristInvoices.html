<template>
	<require from="valueConverters/date-format"></require>
	<require from="common/date-picker"></require>
	
	<h2>Psychometrist Invoices</h2>
	
	<div class="container-fluid">
	
		<div class="row">
			<div class="col-xs-4">
				<div class="form-group">
					<input type="text" class="form-control" date-picker.bind="config.monthPickerOptions" monthchanged.delegate="monthChanged($event)" value.bind="invoiceMonth | dateFormat:'MMMM, YYYY'" />
				</div>
			</div>
			<div class="col-xs-8">
				<div class="form-group">
					<button class="btn btn-default" click.delegate="createInvoices()">Create Invoices</button>
				</div>
			</div>
		</div>
		
		<div class="row">
			<div class="col-xs-12">
				<table class="table table-condensed">
					<thead>
						<tr>
							<th>Identifier</th>
							<th>Payable To</th>
						</tr>
					</thead>
					<tbody>
						<tr repeat.for="invoice of invoices">
							<td>${invoice.identifier}</td>
							<td>${invoice.payableTo.firstName} ${invoice.payableTo.lastName}</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		
	</div>
	
</template>