<template>
	<require from="valueConverters/boolean"></require>
	<require from="valueConverters/money"></require>
	<require from="valueConverters/numeric"></require>
	<require from="common/fixed-header"></require>
	<require from="../../content/css/fixed-header.css"></require>
	
<h3>Referral Sources</h3>

<div class="container-fluid">

	<div class="row">
		<div class="col-xs-3">
			<div class="form-group">
				<label for="searchName">Name</label>
				<input id="searchName" type="text" class="form-control" value.bind="searchName" />
			</div>
		</div>
	</div>
	
	<div class="row">
		<div class="col-xs-3">
			<div class="checkbox" repeat.for="referralSourceType of referralSourceTypes">
				<label>
					<input type="checkbox" value.bind="referralSourceType.referralSourceTypeId" checked.bind="searchReferralSourceTypeIds" />&nbsp;${referralSourceType.name}
				</label>
			</div>
		</div>
	</div>
	
	<div class="row">
		<div class="col-xs-3">
			<div class="form-group">
				<label for="searchActive">Is Active?</label>
				<select class="form-control" value.bind="searchActive">
					<option></option>
					<option value="true">yes</option>
					<option value="false">no</option>
				</select>
			</div>
		</div>
	</div>
	
	<div class="row">
		<div class="col-xs-3">
			<button type="button" class="btn btn-default" click.delegate="search()">
				Search <i class="fa fa-search"></i>
			</button>
		</div>
		<div class="col-xs-offset-8 col-xs-1">
			<a route-href="route: addReferralSource" class="btn btn-default" title="Add Assessment">
				<i class="fa fa-plus"></i>&nbsp;Add
			</a>
		</div>
	</div>
	
</div>

<table class="table table-condensed" fixed-header>
	<thead>
		<tr>
			<th></th>
			<th>Name</th>
			<th>Type</th>
			<th>Large File Size</th>
			<th>Large File Fee</th>
			<th>Active?</th>
		</tr>
	</thead>
	<tbody>
		<tr repeat.for="referralSource of referralSources">
			<td>
				<a route-href="route: editReferralSource; params.bind: { id: referralSource.referralSourceId }" class="btn btn-default btn-xs" title="Edit Referral Source">
					<i class="fa fa-pencil"></i>
				</a>
			</td>
			<td>${referralSource.name}</td>
			<td>${referralSource.referralSourceType.name}</td>
			<td>${referralSource.largeFileSize | numeric}</td>
			<td>${referralSource.largeFileFeeAmount | money}</td>
			<td>${referralSource.isActive | boolean}</td>
		</tr>
	</tbody>
</table>

</template>