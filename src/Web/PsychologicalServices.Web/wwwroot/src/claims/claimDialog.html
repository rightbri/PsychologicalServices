<template>
	<require from="valueConverters/date-format"></require>
	<require from="valueConverters/gender"></require>
	
	<ai-dialog>
		<ai-dialog-header>
		<h3>Edit Claim</h3>
		</ai-dialog-header>
		<ai-dialog-body>
		<div class="container-fluid">
			<div class="row">
				<div class="col-xs-12">
					<div class="form-group">
						<label for="claimantSearch">Claimant search</label>
						<input id="claimantSearch" type="text" class="form-control" placeholder="Claimant Last Name" value.bind="claimantSearch" />
					</div>
					<button type="button" class="btn btn-default" click.delegate="searchClaimant(claimantSearch)" disabled.bind="claimantSearch.length < claimantSearchMinLength">
						Search
					</button>
				</div>
			</div>
			<div class="row" if.bind="claimants">
				<div class="col-xs-12">
					<table class="table table-striped table-condensed">
						<thead>
							<tr>
								<th>First name</th>
								<th>Last name</th>
								<th>Age</th>
								<th>Gender</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr repeat.for="claimant of claimants">
								<td>${claimant.firstName}</td>
								<td>${claimant.lastName}</td>
								<td>${claimant.age}</td>
								<td>${claimant.gender | gender}</td>
								<td>
									<button type="button" class="btn btn-default" click.delegate="selectClaimant(claimant)">
										Select
									</button>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<div class="row" if.bind="claim.claimant">
				<div class="col-xs-12">
					<div class="form-group">
						Claimant
						<br>${claim.claimant.firstName} ${claim.claimant.lastName}
						<br>${claim.claimant.age}
						<br>${claim.claimant.gender}
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-xs-12">
					<div class="form-group">
						<div class="form-group">
							<label for="dateOfLoss">Date of loss</label>
							<input id="dateOfLoss" type="text" class="form-control datepicker" value.bind="claim.dateOfLoss | dateFormat:'MM/DD/YYYY'" />
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-xs-12">
					<div class="form-group">
						<div class="form-group">
							<label for="claimNumber">Claim Number</label>
							<input id="claimNumber" type="text" class="form-control" pattern="[A-Za-z0-9-]+" value.bind="claim.claimNumber" />
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-xs-12">
					<div class="checkbox">
						<label>
							<input type="checkbox" checked.bind="claim.deleted" />&nbsp;Deleted
						</label>
					</div>
				</div>
			</div>
		</div>
		</ai-dialog-body>
		<ai-dialog-footer>
		<button type="button" class="btn btn-primary" click.delegate="save()">
			Save
		</button>
		<button type="button" class="btn btn-default" click.delegate="cancel()">
			Cancel
		</button>
		</ai-dialog-footer>
	</ai-dialog>
</template>