<template>
	<require from="resources/value-converters/gender"></require>
	<require from="resources/value-converters/date-format"></require>
	<require from="resources/value-converters/sort-array"></require>
	<require from="resources/value-converters/age"></require>
	<require from="resources/attributes/cancel-enter"></require>
	
<div class="uk-container">

	<div class="uk-margin">
		<form class="uk-search uk-search-default">
			<span class="uk-search-icon-flip" uk-search-icon></span>
			<input type="search" class="uk-search-input" placeholder="Claimant Name" value.bind="claimantSearch" input.delegate="search() & debounce:200" cancel-enter/>
		</form>
	</div>

	<div class="uk-margin">
		<table class="uk-table uk-table-divider" if.bind="showResults">
			<thead>
				<tr>
					<th>Name</th>
					<th>Date of Birth</th>
					<th>Gender</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				<tr repeat.for="claimant of claimants | sortArray:[{ property: 'lastName', direction: 'asc' },{ property: 'firstName', direction: 'asc' }]">
					<td>${claimant.firstName} ${claimant.lastName}</td>
					<td>${claimant.dateOfBirth | dateFormat:config.longDateFormat}</td>
					<td>${claimant.gender}</td>
					<td>
						<button type="button" class="uk-button uk-button-default" click.delegate="selectClaimant(claimant)">
							Select
						</button>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
	
</div>
	
</template>