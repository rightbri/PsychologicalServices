<template>
	<require from="resources/value-converters/date-format"></require>
	<require from="common/date-picker"></require>
	
	<div class="uk-container">
	
		<fieldset class="uk-fieldset">
			<legend class="uk-legend">Psychometrist Invoices</legend>
			
			<form class="uk-form-stacked">
			
				<div class="uk-margin">
					<label class="uk-form-label" for="invoiceMonth">Month</label>
					<div class="uk-form-controls">
						<input id="invoiceMonth" type="text" class="uk-input" date-picker.bind="config.monthPickerOptions" monthchanged.delegate="monthChanged($event)" value.bind="invoiceMonth | dateFormat:'MMMM, YYYY'" />
					</div>
				</div>
			
				<div class="uk-margin">
					<button class="uk-button uk-button-primary" click.delegate="createInvoices()">Create Invoices</button>
				</div>
				
			</form>
			
		</fieldset>

	</div>

	<div class="uk-overflow-auto" if.bind="invoices">
		<table class="uk-table uk-table-divider" fixed-header>
			<thead>
				<tr>
					<th>Identifier</th>
					<th>Payable To</th>
				</tr>
			</thead>
			<tbody>
				<tr repeat.for="invoice of invoices">
					<td>${invoice.identifier}</td>
					<td>${invoice.payableTo.firstName} ${invoice.payableTo.lastName}</td>
				</tr>
			</tbody>
		</table>
	</div>
</template>