<template>
    <require from="resources/value-converters/lower"></require>
    <require from="resources/value-converters/proper"></require>
    <require from="resources/value-converters/sort-array"></require>
    <require from="resources/value-converters/array-to-string"></require>
    <require from="resources/value-converters/filter"></require>
	<require from="claimants/search-claimant"></require>
    
    <div class="uk-container">

        <form class="uk-form-stacked">

            <div class="uk-margin-small uk-width-auto">
                <label class="uk-form-label">Claimant</label>
                <div class="uk-form-controls">
                    <search-claimant claimant.bind="results.claimant" selected.delegate="claimantSelected($event)"></search-claimant>
                </div>
            </div>
            
            <div class="uk-margin-small" if.bind="results.claimant">
                <p>
                    ${results.claimant.firstName} ${results.claimant.lastName}
                </p>
            </div>
<!--
            <div class="uk-margin-small">
                <label class="uk-form-label">
                    <input class="uk-checkbox" type="checkbox" checked.bind="results.isCredible" />&nbsp;Is Credible?
                </label>
            </div>

            <fieldset class="uk-fieldset">
                <legend class="uk-legend">Psychological Tests</legend>

                <div class="uk-margin-small">
                    <label class="uk-form-label" for="overallCredibility">Overall Credibility</label>
                    <select id="overallCredibility" class="uk-select uk-form-small uk-form-width-small" value.bind="results.overallCredibility">
                        <option></option>
                        <option repeat.for="credibility of credibilities" model.bind="credibility">${credibility.description}</option>
                    </select>
                </div>
                
                <div class="uk-margin-small">
                    <div class="uk-form-label">Tests (select all that apply)</div>
                    <div class="uk-form-controls">
                        <label class="uk-form-label" repeat.for="test of psychologicalTests">
                            <input type="checkbox" class="uk-checkbox" model.bind="test" checked.bind="results.psychologicalTests" change.delegate="updatePerformedPsychologicalTests()" />&nbsp;${test.name}
                        </label>
                    </div>
                </div>
    
                <div class="uk-section uk-section-xsmall" if.bind="results.performedPsychologicalTests.accidentFearQuestionnaire">
                    <h5 class="uk-heading-line"><span>Accident Fear Questionnaire</span></h5>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="accidentFearQuestionnaireAggregateResult">Aggregate Result</label>
                        <select id="accidentFearQuestionnaireAggregateResult" class="uk-select uk-form-small uk-form-width-small" value.bind="results.accidentFearQuestionnaire.aggregateResult">
                            <option></option>
                            <option repeat.for="rating of accidentFearQuestionnaireRatings" model.bind="rating">${rating.description}</option>
                        </select>
                    </div>
                </div>

                <div class="uk-section uk-section-xsmall" if.bind="results.performedPsychologicalTests.beckAnxietyInventory">
                    <h5 class="uk-heading-line"><span>Beck Anxiety Inventory (BAI)</span></h5>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="beckAnxietyInventoryAggregateResult">Aggregate Result</label>
                        <select id="beckAnxietyInventoryAggregateResult" class="uk-select uk-form-small uk-form-width-small" value.bind="results.beckAnxietyInventory.aggregateResult">
                            <option></option>
                            <option repeat.for="rating of becksRatings" model.bind="rating">${rating.description}</option>
                        </select>
                    </div>
                </div>

                <div class="uk-section uk-section-xsmall" if.bind="results.performedPsychologicalTests.beckDepressionInventory">
                    <h5 class="uk-heading-line"><span>Beck Depression Inventory - 2nd Edition (BDI-II)</span></h5>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="beckDepressionInventoryAggregateResult">Aggregate Result</label>
                        <select id="beckDepressionInventoryAggregateResult" class="uk-select uk-form-small uk-form-width-small" value.bind="results.beckDepressionInventory.aggregateResult">
                            <option></option>
                            <option repeat.for="rating of becksRatings" model.bind="rating">${rating.description}</option>
                        </select>
                    </div>
                </div>

                <div class="uk-section uk-section-xsmall" if.bind="results.performedPsychologicalTests.beckScaleOfSuicidalIdeation">
                    <h5 class="uk-heading-line"><span>Beck Scale of Suicidal Ideation (BSSI)</span></h5>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="beckScaleOfSuicidalIdeationAggregateResult">Any thoughts of self harm?</label>
                        <select id="beckScaleOfSuicidalIdeationAggregateResult" class="uk-select uk-form-small uk-form-width-small" value.bind="results.beckScaleOfSuicidalIdeation.thoughtsOfSelfHarm">
                            <option></option>
                            <option repeat.for="value of yesNo" model.bind="value">${value.description}</option>
                        </select>
                    </div>
                </div>

                <div class="uk-section uk-section-xsmall" if.bind="results.performedPsychologicalTests.hamiltonRatingScaleForAnxiety">
                    <h5 class="uk-heading-line"><span>Hamilton Rating Scale for Anxiety</span></h5>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="hamiltonRatingScaleForAnxietyAggregateResult">Aggregate Result</label>
                        <select id="hamiltonRatingScaleForAnxietyAggregateResult" class="uk-select uk-form-small uk-form-width-small" value.bind="results.hamiltonRatingScaleForAnxiety.aggregateResult">
                            <option></option>
                            <option repeat.for="rating of hamiltonAnxietyRatings" model.bind="rating">${rating.description}</option>
                        </select>
                    </div>
                </div>

                <div class="uk-section uk-section-xsmall" if.bind="results.performedPsychologicalTests.hamiltonRatingScaleForDepression">
                    <h5 class="uk-heading-line"><span>Hamilton Rating Scale for Depression</span></h5>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="hamiltonRatingScaleForDepressionAggregateResult">Aggregate Result</label>
                        <select id="hamiltonRatingScaleForDepressionAggregateResult" class="uk-select uk-form-small uk-form-width-small" value.bind="results.hamiltonRatingScaleForDepression.aggregateResult">
                            <option></option>
                            <option repeat.for="rating of hamiltonDepressionRatings" model.bind="rating">${rating.description}</option>
                        </select>
                    </div>
                </div>

                <div class="uk-section uk-section-xsmall" if.bind="results.performedPsychologicalTests.illnessBehaviourQuestionnaire">
                    <h5 class="uk-heading-line"><span>Illness Behavior Questionnaire</span></h5>

                    <div class="uk-margin-small">
                        ???
                    </div>
                </div>

                <div class="uk-section uk-section-xsmall" if.bind="results.performedPsychologicalTests.minnesotaMultiphasicPersonalityInventory">
                    <h5 class="uk-heading-line"><span>Minnesota Multiphasic Personality Inventory (MMPI)</span></h5>

                    <div class="uk-margin-small">
                        <label class="uk-form-label">Reactions</label>
                        <div class="uk-form-controls">
                            <label class="uk-form-label" repeat.for="reaction of minnesotaMultiphasicInventoryReactions">
                                <input type="checkbox" class="uk-checkbox" model.bind="reaction" checked.bind="results.minnesotaMultiphasicPersonalityInventory.reactions" />&nbsp;${reaction.option}
                            </label>
                        </div>

                        <template repeat.for="reaction of minnesotaMultiphasicInventoryReactions">

                            <label class="uk-form-label" for="minnesotaMultiphasicPersonalityInventoryCredibilityIssues">Credibility issues?</label>
                            <select id="minnesotaMultiphasicPersonalityInventoryCredibilityIssues" class="uk-select uk-form-small uk-form-width-small" value.bind="results.minnesotaMultiphasicPersonalityInventory.credibilityIssues">
                                <option></option>
                                <option repeat.for="value of yesNo" model.bind="value">${value.description}</option>
                            </select>

                        </template>

                    </div>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="minnesotaMultiphasicPersonalityInventoryCredibilityIssues">Credibility issues?</label>
                        <select id="minnesotaMultiphasicPersonalityInventoryCredibilityIssues" class="uk-select uk-form-small uk-form-width-small" value.bind="results.minnesotaMultiphasicPersonalityInventory.credibilityIssues">
                            <option></option>
                            <option repeat.for="value of yesNo" model.bind="value">${value.description}</option>
                        </select>
                    </div>

                    <div class="uk-margin-small" if.bind="results.minnesotaMultiphasicPersonalityInventory.credibilityIssues.value">
                        <label class="uk-form-label">Trends</label>
                        <div class="uk-form-controls">
                            <label class="uk-form-label" repeat.for="trend of minnesotaMultiphasicInventoryTrends">
                                <input type="checkbox" class="uk-checkbox" model.bind="trend" checked.bind="results.minnesotaMultiphasicPersonalityInventory.trends" />&nbsp;${trend.description}
                            </label>
                        </div>
                    </div>

                    <div class="uk-margin-small" if.bind="results.minnesotaMultiphasicPersonalityInventory.credibilityIssues.value">
                        <label class="uk-form-label" for="minnesotaMultiphasicPersonalityInventoryExaggeration">Exaggeration?</label>
                        <select id="minnesotaMultiphasicPersonalityInventoryExaggeration" class="uk-select uk-form-small uk-form-width-small" value.bind="results.minnesotaMultiphasicPersonalityInventory.exaggeration">
                            <option></option>
                            <option repeat.for="value of yesNo" model.bind="value">${value.description}</option>
                        </select>
                    </div>
                    
                    <div class="uk-margin-small" if.bind="results.minnesotaMultiphasicPersonalityInventory.exaggeration.value">
                        <label class="uk-form-label">Exaggeration Concerns</label>
                        <div class="uk-form-controls">
                            <label class="uk-form-label" repeat.for="concern of minnesotaMultiphasicInventoryExaggerationConcerns">
                                <input type="checkbox" class="uk-checkbox" model.bind="concern" checked.bind="results.minnesotaMultiphasicPersonalityInventory.exaggerationConcerns" />&nbsp;${concern.description}
                            </label>
                        </div>
                    </div>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="minnesotaMultiphasicPersonalityInventoryCredibility">Credibility</label>
                        <select id="minnesotaMultiphasicPersonalityInventoryCredibility" class="uk-select uk-form-small uk-form-width-small" value.bind="results.minnesotaMultiphasicPersonalityInventory.credibility">
                            <option></option>
                            <option repeat.for="credibility of credibilities" model.bind="credibility">${credibility.description}</option>
                        </select>
                    </div>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="minnesotaMultiphasicPersonalityInventoryAggregateResultForPain">Aggregate Result for Pain</label>
                        <select id="minnesotaMultiphasicPersonalityInventoryAggregateResultForPain" class="uk-select uk-form-small uk-form-width-small" value.bind="results.minnesotaMultiphasicPersonalityInventory.aggregateResultForPain">
                            <option></option>
                            <option repeat.for="rating of aggregateResultRatings" model.bind="rating">${rating.description}</option>
                        </select>
                    </div>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="minnesotaMultiphasicPersonalityInventoryAggregateResultForAnxiety">Aggregate Result for Anxiety</label>
                        <select id="minnesotaMultiphasicPersonalityInventoryAggregateResultForAnxiety" class="uk-select uk-form-small uk-form-width-small" value.bind="results.minnesotaMultiphasicPersonalityInventory.aggregateResultForAnxiety">
                            <option></option>
                            <option repeat.for="rating of aggregateResultRatings" model.bind="rating">${rating.description}</option>
                        </select>
                    </div>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="minnesotaMultiphasicPersonalityInventoryAggregateResultForDepression">Aggregate Result for Depression</label>
                        <select id="minnesotaMultiphasicPersonalityInventoryAggregateResultForDepression" class="uk-select uk-form-small uk-form-width-small" value.bind="results.minnesotaMultiphasicPersonalityInventory.aggregateResultForDepression">
                            <option></option>
                            <option repeat.for="rating of aggregateResultRatings" model.bind="rating">${rating.description}</option>
                        </select>
                    </div>

                </div>

                <div class="uk-section uk-section-xsmall" if.bind="results.performedPsychologicalTests.painDisabilityIndex">
                    <h5 class="uk-heading-line"><span>Pain Disability Index</span></h5>
        
                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="comparedToChronicRating">Self Perceived Disability</label>
                        <select id="comparedToChronicRating" class="uk-select uk-form-small uk-form-width-small" value.bind="results.painIssues.disabilityIndex.perceivedDisability">
                            <option></option>
                            <option repeat.for="rating of comparisonRatings" model.bind="rating">${rating.description}</option>
                        </select>
                    </div>
    
                    <div class="uk-margin-small">
                        <div class="uk-form-label">Areas of Dysfunction</div>
                        <div class="uk-form-controls uk-child-width-1-2" uk-grid>
                            <div repeat.for="dysfunctionRating of results.painIssues.disabilityIndex.dysfunctionRatings">
                                <label class="uk-form-label" for="dysfunction-${$index}">${dysfunctionRating.area.description}</label>
                                <select id="dysfunction-${$index}" class="uk-select uk-form-small uk-form-width-small" value.bind="dysfunctionRating.rating">
                                    <option></option>
                                    <option repeat.for="rating of dysfunctionRatings" model.bind="rating">${rating.description}</option>
                                </select>
                            </div>
                        </div>
                    </div>
    
                </div>

                <div class="uk-section uk-section-xsmall" if.bind="results.performedPsychologicalTests.painPatientProfile">
                    <h5 class="uk-heading-line"><span>Pain Patient Profile (P3)</span></h5>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="painPatientProfileCredibilityIssues">Credibility issues?</label>
                        <select id="painPatientProfileCredibilityIssues" class="uk-select uk-form-small uk-form-width-small" value.bind="results.painPatientProfile.credibilityIssues">
                            <option></option>
                            <option repeat.for="value of yesNo" model.bind="value">${value.description}</option>
                        </select>
                    </div>
                </div>

                <div class="uk-section uk-section-xsmall" if.bind="results.performedPsychologicalTests.personalityAssessmentInventory">
                    <h5 class="uk-heading-line"><span>Personality Assessment Inventory (PAI)</span></h5>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="personalityAssessmentInventoryCredibilityIssues">Credibility issues?</label>
                        <select id="personalityAssessmentInventoryCredibilityIssues" class="uk-select uk-form-small uk-form-width-small" value.bind="results.personalityAssessmentInventory.credibilityIssues">
                            <option></option>
                            <option repeat.for="value of yesNo" model.bind="value">${value.description}</option>
                        </select>
                    </div>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="personalityAssessmentInventoryAggregateResultForPain">Aggregate Result for Pain</label>
                        <select id="personalityAssessmentInventoryAggregateResultForPain" class="uk-select uk-form-small uk-form-width-small" value.bind="results.personalityAssessmentInventory.aggregateResultForPain">
                            <option></option>
                            <option repeat.for="rating of aggregateResultRatings" model.bind="rating">${rating.description}</option>
                        </select>
                    </div>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="personalityAssessmentInventoryAggregateResultForAnxiety">Aggregate Result for Anxiety</label>
                        <select id="personalityAssessmentInventoryAggregateResultForAnxiety" class="uk-select uk-form-small uk-form-width-small" value.bind="results.personalityAssessmentInventory.aggregateResultForAnxiety">
                            <option></option>
                            <option repeat.for="rating of aggregateResultRatings" model.bind="rating">${rating.description}</option>
                        </select>
                    </div>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="personalityAssessmentInventoryAggregateResultForDepression">Aggregate Result for Depression</label>
                        <select id="personalityAssessmentInventoryAggregateResultForDepression" class="uk-select uk-form-small uk-form-width-small" value.bind="results.personalityAssessmentInventory.aggregateResultForDepression">
                            <option></option>
                            <option repeat.for="rating of aggregateResultRatings" model.bind="rating">${rating.description}</option>
                        </select>
                    </div>

                </div>

                <div class="uk-section uk-section-xsmall" if.bind="results.performedPsychologicalTests.traumaSymptomInventory">
                    <h5 class="uk-heading-line"><span>Trauma Symptom Inventory - 2-A (TSI-2-A)</span></h5>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="traumaSymptomInventoryCredibilityIssues">Credibility issues?</label>
                        <select id="traumaSymptomInventoryCredibilityIssues" class="uk-select uk-form-small uk-form-width-small" value.bind="results.traumaSymptomInventory.credibilityIssues">
                            <option></option>
                            <option repeat.for="value of yesNo" model.bind="value">${value.description}</option>
                        </select>
                    </div>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="traumaSymptomInventoryAggregateResultForPain">Aggregate Result for Pain</label>
                        <select id="traumaSymptomInventoryAggregateResultForPain" class="uk-select uk-form-small uk-form-width-small" value.bind="results.traumaSymptomInventory.aggregateResultForPain">
                            <option></option>
                            <option repeat.for="rating of aggregateResultRatings" model.bind="rating">${rating.description}</option>
                        </select>
                    </div>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="traumaSymptomInventoryAggregateResultForAnxiety">Aggregate Result for Anxiety</label>
                        <select id="traumaSymptomInventoryAggregateResultForAnxiety" class="uk-select uk-form-small uk-form-width-small" value.bind="results.traumaSymptomInventory.aggregateResultForAnxiety">
                            <option></option>
                            <option repeat.for="rating of aggregateResultRatings" model.bind="rating">${rating.description}</option>
                        </select>
                    </div>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="traumaSymptomInventoryAggregateResultForDepression">Aggregate Result for Depression</label>
                        <select id="traumaSymptomInventoryAggregateResultForDepression" class="uk-select uk-form-small uk-form-width-small" value.bind="results.traumaSymptomInventory.aggregateResultForDepression">
                            <option></option>
                            <option repeat.for="rating of aggregateResultRatings" model.bind="rating">${rating.description}</option>
                        </select>
                    </div>
                    
                </div>

                <div class="uk-section uk-section-xsmall" if.bind="results.performedPsychologicalTests.visualAnaloguePainScale">
                    <h5 class="uk-heading-line"><span>Visual Analogue Pain Scales</span></h5>
    
                    <div class="uk-child-width-1-2" uk-grid>
                        <div class="uk-margin-small">
                            <label class="uk-form-label" for="currentPainRating">Current Pain Rating</label>
                            <select id="currentPainRating" class="uk-select uk-form-small uk-form-width-small" value.bind="results.painIssues.visualScale.currentRating">
                                <option></option>
                                <option repeat.for="rating of painRatings" model.bind="rating">${rating.description}</option>
                            </select>
                        </div>
            
                        <div class="uk-margin-small">
                            <label class="uk-form-label" for="currentPainNumber">Current Pain Number</label>
                            <select id="currentPainNumber" class="uk-select uk-form-small uk-form-width-small" value.bind="results.painIssues.visualScale.currentNumber">
                                <option></option>
                                <option repeat.for="i of painScale" model.bind="i">${i}</option>
                            </select>
                        </div>
            
                        <div class="uk-margin-small">
                            <label class="uk-form-label" for="badDayPainNumber">Bad Day Pain Number</label>
                            <select id="badDayPainNumber" class="uk-select uk-form-small uk-form-width-small" value.bind="results.painIssues.visualScale.badDayNumber">
                                <option></option>
                                <option repeat.for="i of painScale" model.bind="i">${i}</option>
                            </select>
                        </div>
            
                        <div class="uk-margin-small">
                            <label class="uk-form-label" for="goodDayPainNumber">Good Day Pain Number</label>
                            <select id="goodDayPainNumber" class="uk-select uk-form-small uk-form-width-small" value.bind="results.painIssues.visualScale.goodDayNumber">
                                <option></option>
                                <option repeat.for="i of painScale" model.bind="i">${i}</option>
                            </select>
                        </div>
            
                        <div class="uk-margin-small">
                            <label class="uk-form-label" for="comparedToChronicRating">Compared to Chronic Rating</label>
                            <select id="comparedToChronicRating" class="uk-select uk-form-small uk-form-width-small" value.bind="results.painIssues.visualScale.comparedToChronicRating">
                                <option></option>
                                <option repeat.for="rating of comparisonRatings" model.bind="rating">${rating.description}</option>
                            </select>
                        </div>
                    </div>

                </div>

            </fieldset>
            

            <fieldset class="uk-fieldset">
                <legend class="uk-legend">Neurocognitive Tests</legend>

                <div class="uk-margin-small">
                    <div class="uk-form-label">Tests (select all that apply)</div>
                    <div class="uk-form-controls">
                        <label class="uk-form-label" repeat.for="test of neurocognitiveTests">
                            <input type="checkbox" class="uk-checkbox" model.bind="test" checked.bind="results.neurocognitiveTests" change.delegate="updatePerformedNeurocognitiveTests()" />&nbsp;${test.name}
                        </label>
                    </div>
                </div>

                <div class="uk-section uk-section-xsmall" if.bind="results.performedNeurocognitiveTests.rivermeadPostConcussionSymptomsQuestionnaire">
                    <h5 class="uk-heading-line"><span>Rivermead Post-Concussion Symptoms Questionnaire</span></h5>

                    <div class="uk-margin-small">
                        <label class="uk-form-label" for="concussionPerceivedDisability">Perceived Disability</label>
                        <select id="concussionPerceivedDisability" class="uk-select uk-form-small uk-form-width-small" value.bind="results.concussionSymptoms.perceivedDisability">
                            <option></option>
                            <option repeat.for="rating of concussionDisabilityRatings" model.bind="rating">${rating.description}</option>
                        </select>
                    </div>

                    <div class="uk-margin-small">
                        <div class="uk-form-label">Current Symptoms</div>
                        <div class="uk-form-controls">
                            <label class="uk-form-label" repeat.for="symptom of concussionSymptoms">
                                <input type="checkbox" class="uk-checkbox" model.bind="symptom" checked.bind="results.concussionSymptoms.currentSymptoms" change.delegate="concussionSymptomChange(symptom)" />&nbsp;${symptom.description}
                            </label>
                        </div>
                    </div>

                    <div class="uk-margin-small">
                        <div class="uk-form-label">
                            Additional Symptoms
                            <button type="button" class="uk-button uk-button-link" click.delegate="addAdditionalConcussionSymptom(symptom)" title="Add symptom" uk-tooltip>
                                <i class="fa fa-plus"></i>
                            </button>
                        </div>
                        <div class="uk-form-controls">
                            <ul class="uk-list">
                                <li repeat.for="i of results.concussionSymptoms.additionalSymptoms.length">
                                    <input class="uk-input uk-form-small uk-form-width-small" type="text" placeholder="Symptom" value.bind="$parent.results.concussionSymptoms.additionalSymptoms[i]" change.delegate="concussionAdditionalSymptomChange()" />
                                    <button type="button" class="uk-button uk-button-link" click.delegate="removeAdditionalConcussionSymptom($parent.results.concussionSymptoms.additionalSymptoms[i])" title="Remove symptom" uk-tooltip>
                                        <i class="fa fa-times"></i>
                                    </button>
                                </li>
                            </ul>
                        </div>
                    </div>
                    
                </div>
                
            </fieldset>
        -->
        </form>

    </div>
<!--
    <div class="uk-container" style="font-family: arial, sans-serif; font-size: 11pt;">

        <h4 class="uk-heading-line"><span>Report</span></h4>

        <h5 style="text-decoration: underline;">Psychological Tests</h5>

        <ul>
            <li repeat.for="test of results.psychologicalTests">
                ${test.name}
            </li>
        </ul>

        <h3 style="text-align: center;">Test Validity</h3>

        <p if.bind="results.performedPsychologicalTests.minnesotaMultiphasicPersonalityInventory">
            ${results.gender.title} ${results.claimant.lastName}'s profile on the various indices suggested that the obtained MMPI-2-RF profile was ${results.minnesotaMultiphasicPersonalityInventory.credibility.description}.  
            The obtained profiles on the validity scales of the MMPI-2-RF indicated that ${results.gender.title} ${results.claimant.lastName} 
            ${results.minnesotaMultiphasicPersonalityInventory.reactions | arrayToString:{"format":getMinnesotaMultiphasicPersonalityInventoryReactionOutput}}
            understood and attended to the items of the test, was not distracted or confused while completing the form, and responded to the items in a consistent manner throughout the test.  
            
            There were no trends towards positive impression management or defensiveness noted.  
            However, the MMPI-2-RF indicated concerns with respect to exaggeration, particularly with respect to his cognitive and somatic complaints, with respect to general psychopathology, especially when compared with other litigation samples.  
            As such, the MMPI-2-RF was invalid. 
        </p>

        <p>
             
            Atypical responding significantly affected the TSI-2-A.  
            ${results.gender.title} ${results.claimant.lastName} was also administered the Structured Inventory of Malingered Symptomatology (SIMS).  
            ${results.gender.title} ${results.claimant.lastName}’s scores on the Neurological Impairment, Low Intelligence, Psychosis, Amnestic Disorders, and Affective Factors subscales and Total Score were invalid.  
            Additionally, the M-FAST was invalid as well.  
            In contrast, the P-3 was valid.

            Consequently, it was felt that ${results.gender.title} ${results.claimant.lastName}’s test data must be regarded as unreliable as a source of confirmatory information with respect to his current psychological state, as his response set prevents a psychological diagnosis from being substantiated, noting invalid findings across multiple validity measures.  

            As such, one is unable to rely on any scores falling in the impaired range, and is unable to rule out the impact of poor engagement, symptom exaggeration/amplification, feigning, or dissimulation. 

        </p>

    </div>

    <div class="uk-container" style="font-family: arial, sans-serif; font-size: 11pt;">

        <p>
            In this present evaluation, the results for pain severity, as measured by Visual Analogue Pain Scales
            <span if.bind="!results.isCredible"> (which does not have any validity measures)</span>, 
            show a current pain rating to be in ${results.painIssues.visualScale.currentRating.templatePrefix} ${results.painIssues.visualScale.currentRating.description} band (${results.painIssues.visualScale.currentNumber}/${painScaleMax}); 
            with respect to chronic pain patient norms, and that the pain can increase to a 
            ${results.painIssues.visualScale.badDayNumber}/${painScaleMax} on a “bad” day, and only goes to a ${results.painIssues.visualScale.goodDayNumber}/${painScaleMax} on a “good” day.  
            These findings indicate that a level of pain severity and associated symptomatology 
            is being reported that is ${results.painIssues.visualScale.comparedToChronicRating.description} what is experienced by individuals who are suffering from chronic pain.
        </p>

        <p>
            In this present evaluation, ${results.pronoun.possessiveAdjective} aggregate result for the Pain Disability Index (PDI) shows that ${results.pronoun.subject} 
            rated in ${results.painIssues.disabilityIndex.perceivedDisability.templatePrefix} ${results.painIssues.disabilityIndex.perceivedDisability.description} for level of self-perceived disability as a result of ${results.pronoun.possessiveAdjective} pain symptomatology, 
            with respect to chronic pain patient norms.  In particular, ${results.pronoun.subject} ascribed an above average degree of dysfunction 
            for ${results.pronoun.possessiveAdjective} {recreational activities}; and ascribed an average level of dysfunction for ${results.pronoun.possessiveAdjective} 
            ${results.painIssues.disabilityIndex.dysfunctionRatings | filter:"rating.description":"average" | arrayToString} {self-care tasks, 
            social activities, life support activities, sexual behaviours, occupational pursuits, and family/home responsibilities}.
        </p>
        

        <h5 if.bind="results.performedNeurocognitiveTests.rivermeadPostConcussionSymptomsQuestionnaire" class="uk-heading-line"><span>Concussion Symptoms</span></h5>
        <p if.bind="results.performedNeurocognitiveTests.rivermeadPostConcussionSymptomsQuestionnaire">
            On the Rivermead Post-Concussion Symptoms Questionnaire the current aggregate result 
            (based on the self-report alone) is currently in 
            ${results.concussionSymptoms.perceivedDisability.templatePrefix} ${results.concussionSymptoms.perceivedDisability.description} 
            for level of self-perceived disability associated with post-concussive symptomatology with respect to individuals 
            diagnosed with this syndrome.  
            In particular, current issues and troubles include 
            ${results.concussionSymptoms.currentSymptoms | sortArray:{property: 'order', direction: 'asc'} | arrayToString:{"format":getConcussionSymptomText} & signal:'concussion-symptoms-updated'}.
            <span if.bind="results.concussionSymptoms.additionalSymptoms.length">
                He? additionally reporting experiencing ${results.concussionSymptoms.additionalSymptoms | arrayToString & signal:'concussion-additional-symptoms-updated'}.
            </span>
        </p>
               
    </div>
--> 
    <div class="uk-container">
        <h5 class="uk-heading-line"><span>Cognitive Assessment</span></h5>

        <form class="uk-form-stacked">

            <div class="uk-margin uk-overflow-auto">

                <table class="uk-table uk-table-divider uk-table-small">
                    <thead>
                        <tr>
                            <th class="uk-table-middle">
                                <label class="uk-form-label" for="effort">Effort Level</label>
                                <select id="effort" class="uk-select uk-form-small uk-form-width-small" value.bind="cognitiveAssessment.effortLevel">
                                    <option></option>
                                    <option repeat.for="level of cognitiveAssessmentEffortLevels" model.bind="level">${level.description}</option>
                                </select>
                            </th>
                            <template repeat.for="rating of cognitiveAssessmentTestResultRatings">
                                <th style="writing-mode: vertical-rl;">
                                    ${rating.description}
                                </th>
                            </template>
                            <th style="writing-mode: vertical-rl;"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr repeat.for="test of cognitiveAssessment.tests">
                            <td class="uk-text-nowrap uk-table-shrink uk-padding-remove">${test.category}</td>
                            <template repeat.for="rating of cognitiveAssessmentTestResultRatings">
                                <td class="uk-padding-remove">
                                    <input type="radio" name="${test.category} rating" class="uk-radio" checked.bind="$parent.test.rating" model.bind="rating" change.delegate="cognitiveAssessmentTestResultRatingChange()" />
                                </td>
                            </template>
                            <td class="uk-padding-remove">
                                <span click.delegate="clearTestRating(test)" show.bind="test.rating !== null" style="color: red; cursor: pointer;">
                                    <i class="fa fa-close"></i>
                                </span>
                            </td>
                        </tr>
                    </tbody>
                </table>

            </div>

        </form>

    </div>

    <div class="uk-container">
        <h5 class="uk-heading-line"><span>Cognitive Assessment Summary</span></h5>


        <table class="uk-table uk-table-small uk-table-middle uk-table-divider" style="font-family: arial; font-size: 11pt; font-weight: normal; border-width: 1px;">
            <thead>
                <tr>
                    <th></th>
                    <template repeat.for="rating of cognitiveAssessmentTestResultRatings">
                        <th style="border-style: solid; border-width: 1px; writing-mode: vertical-rl;">
                            ${rating.description}
                        </th>
                    </template>
                </tr>
            </thead>
            <tbody>
                <tr repeat.for="test of cognitiveAssessment.tests | filter:isRated & signal:'cognitive-assessment-test-result-rating-updated'">
                    <td style="border-style: solid; border-width: 1px;" class="uk-text-nowrap">${test.category}</td>
                    <template repeat.for="rating of cognitiveAssessmentTestResultRatings">
                        <td style="border-style: solid; border-width: 1px;" class="uk-text-nowrap uk-text-center">
                            <template if.bind="$parent.test.rating.description === rating.description">&times;</template>
                        </td>
                    </template>
                </tr>
            </tbody>
        </table>


        <p style="font-family: arial; font-size: 11pt; font-weight: normal;">
            In summary, against an overlay of ${cognitiveAssessment.effortLevel.description} effort, here are ${results.gender.title} ${results.claimant.lastName}'s results:
            <br><br>
            <template repeat.for="grouping of cognitiveAssessmentTestResultGroupings | sortArray:{property: 'sort', direction: 'asc'}">
                <div class="uk-margin-left">    
                    <span style="font-family: arial; font-size: 11pt; font-weight: normal;">
                        ${results.pronoun.subject | proper} performed ${grouping.opening} on tests and questionnaires that measured ${results.pronoun.possessiveAdjective}: 
                    </span>
                    <ul style="font-family: arial; font-size: 11pt; font-weight: normal;" class="uk-margin-remove-top">
                        <template repeat.for="test of grouping.tests">
                            <li>${test.category}</li>
                        <template>
                    </ul>
                </div>
            </template>

        </p>

    </div>

</template>