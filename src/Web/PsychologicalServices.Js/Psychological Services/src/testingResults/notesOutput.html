<template>
    <require from="resources/value-converters/age"></require>
    <require from="resources/value-converters/gender"></require>
    <require from="resources/value-converters/int"></require>
    <require from="resources/value-converters/number-text"></require>
    <require from="resources/value-converters/number-text-if-less-than-ten"></require>
    <require from="resources/value-converters/lower"></require>
    <require from="resources/value-converters/proper"></require>
    <require from="resources/value-converters/date-format"></require>
	<require from="resources/value-converters/sort-array"></require>
    <require from="resources/value-converters/array-to-string"></require>
    <require from="resources/value-converters/filter"></require>
	<require from="claimants/search-claimant"></require>
	<require from="common/fixed-header"></require>
	<require from="content/css/fixed-header.css"></require>

    <div class="uk-container">
        <div class="uk-margin-remove uk-width-auto">
            <label class="uk-form-label">Claimant</label>
            <div class="uk-form-controls">
                <search-claimant claimant.bind="claimant" claimants.bind="claimants" selected.delegate="claimantSelected($event)"></search-claimant>
            </div>
        </div>

        <table class="uk-table uk-table-divider" fixed-header if.bind="assessments && !assessment">
            <thead>
                <tr>
                    <th></th>
                    <th>Assessment Type</th>
                    <th>Referral Source</th>
                    <th>Claimant</th>
                    <th>Appointment Time</th>
                </tr>
            </thead>
            <tbody>
                <tr repeat.for="assessment of assessments">
                    <td>
                        <button type="button" class="uk-button uk-button-primary" click.delegate="select(assessment)">Select</button>
                    </td>
                    <td>${assessment.assessmentType}</td>
                    <td>${assessment.referralSource}</td>
                    <td>${assessment.claimant}</td>
                    <td>${assessment.appointmentTime | dateFormat:config.longDateFormat}</td>
                </tr>
            </tbody>
        </table>

        <div class="uk-margin-remove" if.bind="formVisible">
            <button type="button" class="uk-button uk-button-default" click.delegate="reset(true)">Reset</button>
        </div>
    </div>

    <hr if.bind="formVisible">

    <div class="uk-container" if.bind="formVisible">

        <fieldset class="uk-fieldset" if.bind="claimant & signal:'claimant-changed'">
            <legend class="uk-legend">Identification</legend>

            <div class="uk-grid-collapse uk-child-width-1-1" uk-grid>

                <div class="uk-margin-remove uk-width-1-4">
                    Name of Client
                </div>
        
                <div class="uk-margin-remove uk-width-1-4">
                    ${claimant.firstName} ${claimant.lastName}
                </div>

                <div class="uk-margin-remove uk-width-1-4">
                    Date of Birth
                </div>
        
                <div class="uk-margin-remove uk-width-1-4">
                    ${claimant.dateOfBirth | dateFormat:"MMMM Do, YYYY"}
                </div>
        
                <hr>

                <div class="uk-margin-remove uk-width-1-4">
                    Type of Assessment
                </div>
        
                <div class="uk-margin-remove uk-width-1-4">
                    ${assessment.assessmentType.name}
                </div>
        
                <div class="uk-margin-remove uk-width-1-4">
                    Date of Assessment
                </div>
        
                <div class="uk-margin-remove uk-width-1-4">
                    ${assessmentDate | dateFormat:config.longDateFormat}
                </div>
        
                <hr>

                <div class="uk-margin-remove uk-width-1-4">
                    Informed Consent - Addressing
                </div>
        
                <div class="uk-margin-remove uk-width-3-4">
                    ${issuesInDispute | sortArray:{"property":"name","direction":"asc"} | arrayToString}
                </div>

            </div>
        </fieldset>

        <fieldset class="uk-fieldset">
            <legend class="uk-legend">Motor Vehicle Accident Details</legend>

            <div class="uk-grid-collapse uk-child-width-1-1" uk-grid>

                <div class="report-text uk-card uk-card-body uk-card-default">
                    <p>
                        <template if.bind="responses.createdAtVersion < 22">
                            <template if.bind="anySelectedCurrentTreatmentProviders || anySelectedPastTreatmentProviders || anyUnselectedPastTreatmentProviders || unselectedPainProgram || unselectedDriversRehabProgram || selectedPainProgram || selectedDriversRehabProgram || anySelectedBeneficialTreatments || anyUnselectedBeneficialTreatments & signal:'treatment-initial-changed'">
                                ${gender.title} ${claimant.lastName} 
                                <template if.bind="anySelectedCurrentTreatmentProviders & signal:'treatment-initial-changed'">
                                    &nbsp;shared that at the current time ${pronoun.subject} is receiving treatment provided by the following: 
                                    ${selectedCurrentTreatmentProviders | arrayToString:{"format":getItemValueForCurrentContext,"delimiter":"; "} & signal:'treatment-initial-changed'}.        
                                </template>
                                <template if.bind="anySelectedPastTreatmentProviders & signal:'treatment-initial-changed'">
                                    <template if.bind="anySelectedCurrentTreatmentProviders & signal:'treatment-initial-changed'">
                                        &nbsp;${pronoun.subject | proper} 
                                    </template>
                                    &nbsp;shared that in the past ${pronoun.subject} has been seen by a: 
                                    ${selectedPastTreatmentProviders | arrayToString:{"format":getItemValueForCurrentContext,"delimiter":"; "} & signal:'treatment-initial-changed'}.
                                </template>
                                <template if.bind="anyUnselectedPastTreatmentProviders & signal:'treatment-initial-changed'">
                                    <template if.bind="anySelectedPastTreatmentProviders & signal:'treatment-initial-changed'">
                                        &nbsp;${gender.title} ${claimant.lastName}
                                    </template>
                                    <template if.bind="(anySelectedCurrentTreatmentProviders && !anySelectedPastTreatmentProviders) & signal:'treatment-initial-changed'">
                                        &nbsp;${pronoun.subject | proper} 
                                    </template>
                                    &nbsp;went on to deny seeing any of the following: 
                                    ${unselectedPastTreatmentProviders | arrayToString:{"format":getItemValueForCurrentContext,"delimiter":"; ","connector":"or"} & signal:'treatment-initial-changed'}.
                                </template>
    
                                <template if.bind="(unselectedPainProgram || unselectedDriversRehabProgram) & signal:'treatment-initial-changed'">
                                    <template if.bind="(anySelectedCurrentTreatmentProviders || anySelectedPastTreatmentProviders) & signal:'treatment-initial-changed'">
                                        &nbsp;${pronoun.subject | proper}
                                    </template>
                                    <template if.bind="anyUnselectedPastTreatmentProviders & signal:'treatment-initial-changed'">
                                        &nbsp;also
                                    </template>
                                    &nbsp;denied 
                                    <template if.bind="unselectedPainProgram & signal:'treatment-initial-changed'">
                                        &nbsp;attending a pain program
                                    </template>
                                    <template if.bind="unselectedDriversRehabProgram & signal:'treatment-initial-changed'">
                                        <template if.bind="unselectedPainProgram & signal:'treatment-initial-changed'">
                                            &nbsp;or
                                        </template>
                                        &nbsp;having any driver's rehabilitation services
                                    </template>
                                    .
                                </template>
    
                                <template if.bind="(selectedPainProgram || selectedDriversRehabProgram) & signal:'treatment-initial-changed'">
                                    <template if.bind="(anySelectedCurrentTreatmentProviders || anySelectedPastTreatmentProviders) & signal:'treatment-initial-changed'">
                                        &nbsp;${pronoun.subject | proper}
                                    </template>
                                    &nbsp;further detailed that ${pronoun.subject} has
                                    <template if.bind="selectedPainProgram & signal:'treatment-initial-changed'">
                                        &nbsp;attended a pain program
                                    </template>
                                    <template if.bind="selectedDriversRehabProgram & signal:'treatment-initial-changed'">
                                        <template if.bind="selectedPainProgram & signal:'treatment-initial-changed'">
                                            &nbsp;and has
                                        </template>
                                        &nbsp;attended driver's rehabilitation services
                                    </template>
                                    .
                                </template>
    
                                <template if.bind="anySelectedBeneficialTreatments & signal:'treatment-initial-changed'">
                                    <template if.bind="(anySelectedCurrentTreatmentProviders || anySelectedPastTreatmentProviders || anyUnselectedPastTreatmentProviders || unselectedPainProgram || unselectedDriversRehabProgram) & signal:'treatment-initial-changed'">
                                        &nbsp;${gender.title} ${claimant.lastName}
                                    </template>
                                    &nbsp;shared that ${pronoun.subject} has found the following to be beneficial: 
                                    ${selectedBeneficialTreatments | arrayToString:{"format":getItemValueForCurrentContext,"delimiter":"; "} & signal:'treatment-initial-changed'}.
                                </template>
    
                                <template if.bind="anyUnselectedBeneficialTreatments & signal:'treatment-initial-changed'">
                                    &nbsp;${pronoun.subject | proper} added that ${pronoun.subject} did not find the following beneficial: 
                                    ${unselectedBeneficialTreatments | arrayToString:{"format":getItemValueForCurrentContext,"delimiter":"; ","connector":"or"} & signal:'treatment-initial-changed'}.
                                </template>
                            </template>
                        </template>
                        <template else>
                            <template if.bind="anySelectedTreatmentProvidersOrPrograms">
                                <table class="uk-table uk-table-small chart">
                                    <thead>
                                        <tr>
                                            <th class="uk-padding-remove-vertical uk-table-shrink">Treatment Provider / Program</th>
                                            <th class="uk-padding-remove-vertical uk-table-shrink"></th>
                                            <th class="uk-padding-remove-vertical uk-table-shrink"></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <template repeat.for="i of responses.treatment.initial.providers.length">
                                            <template if.bind="isAnswered($parent.responses.treatment.initial.providers[i].sinceAccident)">
                                                <tr>
                                                    <td class="uk-padding-remove-vertical">
                                                        ${treatmentProvidersMap[$parent.responses.treatment.initial.providers[i].value].description}
                                                    </td>
                                                    <td class="uk-padding-remove-vertical">
                                                        Have you been seen?
                                                    </td>
                                                    <td class="uk-padding-remove-vertical">
                                                        ${yesNoDontKnowMap[$parent.responses.treatment.initial.providers[i].sinceAccident].output}
                                                    </td>
                                                </tr>
                                                <template if.bind="isYes($parent.responses.treatment.initial.providers[i].sinceAccident)">
                                                    <!--
                                                    <tr if.bind="$parent.responses.treatment.initial.providers[i].start.month || $parent.responses.treatment.initial.providers[i].start.year">
                                                        <td class="uk-padding-remove-vertical"></td>
                                                        <td class="uk-padding-remove-vertical">When did this start?</td>
                                                        <td class="uk-padding-remove-vertical">
                                                            ${$parent.responses.treatment.initial.providers[i].start.month} ${$parent.responses.treatment.initial.providers[i].start.year}
                                                        </td>
                                                    </tr>
                                                    <tr if.bind="isFrequencyAnswered($parent.responses.treatment.initial.providers[i].start.frequency)">
                                                        <td class="uk-padding-remove-vertical"></td>
                                                        <td class="uk-padding-remove-vertical">How often were you attending at the beginning?</td>
                                                        <td class="uk-padding-remove-vertical">
                                                            <template if.bind="isDontKnow($parent.responses.treatment.initial.providers[i].start.frequency.unit)">
                                                                Don't know
                                                            </template>
                                                            <template else>
                                                                <template if.bind="$parent.responses.treatment.initial.providers[i].start.frequency.unit == 'number'">
                                                                    ${$parent.responses.treatment.initial.providers[i].start.frequency.number}
                                                                </template>
                                                                <template if.bind="$parent.responses.treatment.initial.providers[i].start.frequency.unit == 'range'">
                                                                    ${$parent.responses.treatment.initial.providers[i].start.frequency.rangeStart} 
                                                                    to
                                                                    ${$parent.responses.treatment.initial.providers[i].start.frequency.rangeEnd}
                                                                </template>
                                                                &nbsp;times per ${$parent.responses.treatment.initial.providers[i].start.frequency.period}
                                                            </template>
                                                        </td>
                                                    </tr>
                                                    -->
                                                    <tr if.bind="isAnswered($parent.responses.treatment.initial.providers[i].current.attending)">
                                                        <td class="uk-padding-remove-vertical"></td>
                                                        <td class="uk-padding-remove-vertical">Still attending?</td>
                                                        <td class="uk-padding-remove-vertical">
                                                            ${yesNoDontKnowMap[$parent.responses.treatment.initial.providers[i].current.attending].output}
                                                        </td>
                                                    </tr>
                                                    <!--
                                                    <tr if.bind="isNo($parent.responses.treatment.initial.providers[i].current.attending) && ($parent.responses.treatment.initial.providers[i].stop.month || $parent.responses.treatment.initial.providers[i].stop.year)">
                                                        <td class="uk-padding-remove-vertical"></td>
                                                        <td class="uk-padding-remove-vertical">When did you stop?</td>
                                                        <td class="uk-padding-remove-vertical">
                                                            ${$parent.responses.treatment.initial.providers[i].stop.month} ${$parent.responses.treatment.initial.providers[i].stop.year}
                                                        </td>
                                                    </tr>
                                                    <tr if.bind="isYes($parent.responses.treatment.initial.providers[i].current.attending) && isFrequencyAnswered($parent.responses.treatment.initial.providers[i].current.frequency)">
                                                        <td class="uk-padding-remove-vertical"></td>
                                                        <td class="uk-padding-remove-vertical">How often?</td>
                                                        <td class="uk-padding-remove-vertical">
                                                            <template if.bind="isDontKnow($parent.responses.treatment.initial.providers[i].current.frequency.unit)">
                                                                Don't know
                                                            </template>
                                                            <template else>
                                                                <template if.bind="$parent.responses.treatment.initial.providers[i].current.frequency.unit == 'number'">
                                                                    ${$parent.responses.treatment.initial.providers[i].current.frequency.number}
                                                                </template>
                                                                <template if.bind="$parent.responses.treatment.initial.providers[i].current.frequency.unit == 'range'">
                                                                    ${$parent.responses.treatment.initial.providers[i].current.frequency.rangeStart} 
                                                                    to
                                                                    ${$parent.responses.treatment.initial.providers[i].current.frequency.rangeEnd}
                                                                </template>
                                                                &nbsp;times per ${$parent.responses.treatment.initial.providers[i].current.frequency.period}
                                                            </template>
                                                        </td>
                                                    </tr>
                                                    -->
                                                    <tr if.bind="isAnswered($parent.responses.treatment.initial.providers[i].financialIssuesAffectedAbilityToAttend)">
                                                        <td class="uk-padding-remove-vertical"></td>
                                                        <td class="uk-padding-remove-vertical">Funding affected ability to attend?</td>
                                                        <td class="uk-padding-remove-vertical">
                                                            ${yesNoDontKnowMap[$parent.responses.treatment.initial.providers[i].financialIssuesAffectedAbilityToAttend].output}
                                                        </td>
                                                    </tr>
                                                </template>
                                            </template>
                                        </template>
                                        <template repeat.for="i of responses.treatment.initial.programs.length">
                                            <template if.bind="isAnswered($parent.responses.treatment.initial.programs[i].sinceAccident)">
                                                <tr>
                                                    <td class="uk-padding-remove-vertical">
                                                        ${treatmentProgramsMap[$parent.responses.treatment.initial.programs[i].value].description}
                                                    </td>
                                                    <td class="uk-padding-remove-vertical">
                                                        ${treatmentProgramsMap[$parent.responses.treatment.initial.programs[i].value].attendedQuestionOutput}
                                                    </td>
                                                    <td class="uk-padding-remove-vertical">
                                                        ${yesNoDontKnowMap[$parent.responses.treatment.initial.programs[i].sinceAccident].output}
                                                    </td>
                                                </tr>
                                                <template if.bind="isYes($parent.responses.treatment.initial.programs[i].sinceAccident)">
                                                    <!--
                                                    <tr if.bind="$parent.responses.treatment.initial.providers[i].start.month || $parent.responses.treatment.initial.providers[i].start.year">
                                                        <td class="uk-padding-remove-vertical"></td>
                                                        <td class="uk-padding-remove-vertical">When did this start?</td>
                                                        <td class="uk-padding-remove-vertical">
                                                            ${$parent.responses.treatment.initial.programs[i].start.month} ${$parent.responses.treatment.initial.programs[i].start.year}
                                                        </td>
                                                    </tr>
                                                    <tr if.bind="isFrequencyAnswered($parent.responses.treatment.initial.programs[i].start.frequency)">
                                                        <td class="uk-padding-remove-vertical"></td>
                                                        <td class="uk-padding-remove-vertical">How often were you attending at the beginning?</td>
                                                        <td class="uk-padding-remove-vertical">
                                                            <template if.bind="isDontKnow($parent.responses.treatment.initial.programs[i].start.frequency.unit)">
                                                                Don't know
                                                            </template>
                                                            <template else>
                                                                <template if.bind="$parent.responses.treatment.initial.programs[i].start.frequency.unit == 'number'">
                                                                    ${$parent.responses.treatment.initial.programs[i].start.frequency.number}
                                                                </template>
                                                                <template if.bind="$parent.responses.treatment.initial.programs[i].start.frequency.unit == 'range'">
                                                                    ${$parent.responses.treatment.initial.programs[i].start.frequency.rangeStart} 
                                                                    to
                                                                    ${$parent.responses.treatment.initial.programs[i].start.frequency.rangeEnd}
                                                                </template>
                                                                &nbsp;times per ${$parent.responses.treatment.initial.programs[i].start.frequency.period}
                                                            </template>
                                                        </td>
                                                    </tr>
                                                    -->
                                                    <template if.bind="isAnswered($parent.responses.treatment.initial.programs[i].current.attending)">
                                                        <tr>
                                                            <td class="uk-padding-remove-vertical"></td>
                                                            <td class="uk-padding-remove-vertical">Still attending?</td>
                                                            <td class="uk-padding-remove-vertical">
                                                                ${yesNoDontKnowMap[$parent.responses.treatment.initial.programs[i].current.attending].output}
                                                            </td>
                                                        </tr>
                                                    </template>
                                                    <!--
                                                    <tr if.bind="(!$parent.responses.treatment.initial.programs[i].current || isNo($parent.responses.treatment.initial.programs[i].current.attending)) && ($parent.responses.treatment.initial.programs[i].stop.month || $parent.responses.treatment.initial.programs[i].stop.year)">
                                                        <td class="uk-padding-remove-vertical"></td>
                                                        <td class="uk-padding-remove-vertical">When did you stop?</td>
                                                        <td class="uk-padding-remove-vertical">
                                                            ${$parent.responses.treatment.initial.programs[i].stop.month} ${$parent.responses.treatment.initial.programs[i].stop.year}
                                                        </td>
                                                    </tr>
                                                    <tr if.bind="isYes($parent.responses.treatment.initial.programs[i].current.attending) && isFrequencyAnswered($parent.responses.treatment.initial.programs[i].current.frequency)">
                                                        <td class="uk-padding-remove-vertical"></td>
                                                        <td class="uk-padding-remove-vertical">How often?</td>
                                                        <td class="uk-padding-remove-vertical">
                                                            <template if.bind="isDontKnow($parent.responses.treatment.initial.programs[i].current.frequency.unit)">
                                                                Don't know
                                                            </template>
                                                            <template else>
                                                                <template if.bind="$parent.responses.treatment.initial.programs[i].current.frequency.unit == 'number'">
                                                                    ${$parent.responses.treatment.initial.programs[i].current.frequency.number}
                                                                </template>
                                                                <template if.bind="$parent.responses.treatment.initial.programs[i].current.frequency.unit == 'range'">
                                                                    ${$parent.responses.treatment.initial.programs[i].current.frequency.rangeStart} 
                                                                    to
                                                                    ${$parent.responses.treatment.initial.programs[i].current.frequency.rangeEnd}
                                                                </template>
                                                                &nbsp;times per ${$parent.responses.treatment.initial.programs[i].current.frequency.period}
                                                            </template>
                                                        </td>
                                                    </tr>
                                                    -->
                                                    <tr if.bind="isAnswered($parent.responses.treatment.initial.programs[i].financialIssuesAffectedAbilityToAttend)">
                                                        <td class="uk-padding-remove-vertical"></td>
                                                        <td class="uk-padding-remove-vertical">Funding affected ability to attend?</td>
                                                        <td class="uk-padding-remove-vertical">
                                                            ${yesNoDontKnowMap[$parent.responses.treatment.initial.programs[i].financialIssuesAffectedAbilityToAttend].output}
                                                        </td>
                                                    </tr>
                                                </template>

                                            </template>
                                        </template>
                                    </tbody>
                                </table>
                            </template>
                        </template>
                    </p>
                </div>
                <hr>
            </div>            
        </fieldset>

        <fieldset class="uk-fieldset">
            <legend class="uk-legend">Physical</legend>

            <div class="uk-grid-collapse uk-child-width-1-1" uk-grid>

                <div class="report-text uk-card uk-card-body uk-card-default" contenteditable="true">
                    <!-- Pain -->
                    <p>
                        <template if.bind="isAnswered(responses.neuropsychological.physical.pain.currentlyExperiencePain)">
                            <template if.bind="isYes(responses.neuropsychological.physical.pain.currentlyExperiencePain)">
                                When asked about any pain, ${gender.title} ${claimant.lastName} shared that ${pronoun.subject} currently experiences pain
                                <template if.bind="responses.neuropsychological.physical.pain.currentPainAreas.length">
                                    &nbsp;in the following area
                                    <template if.bind="multipleCurrentPainAreas & signal:'current-pain-changed'">s</template>
                                    : ${responses.neuropsychological.physical.pain.currentPainAreas | arrayToString & signal:'current-pain-changed'}
                                </template>
                                .
                            </template>
                            <template else>
                                &nbsp;${pronoun.subject | proper} denied having any physical pain at the current time.
                            </template>
                        </template>
                        
                        <template if.bind="isAnswered(responses.neuropsychological.physical.pain.experiencePainPriorToAccident)">
                            <template if.bind="isYes(responses.neuropsychological.physical.pain.experiencePainPriorToAccident)">
                                &nbsp;${pronoun.subject | proper} acknowledged ongoing pain at the time of the subject accident.
                            </template>
                            <template else>
                                &nbsp;${pronoun.subject | proper} denied having any ongoing pain at the time of the subject accident.
                            </template>
                        </template>

                        <!-- Other Issues -->
                        <template if.bind="anyOtherPhysicalIssues">
                            &nbsp;When asked about anything else that is bothering ${pronoun.object}, ${gender.title} ${claimant.lastName} indicated that ${pronoun.subject} has experienced: ${responses.neuropsychological.physical.other.issues | arrayToString}.
                        </template>
                    </p>

                    <!-- Headaches / Migraines -->
                    <p>
                        <template if.bind="isAnswered(responses.neuropsychological.physical.headaches.experienceHeadachesCurrent)">
                            When asked about headaches, ${gender.title} ${claimant.lastName} 
                            <template if.bind="isYes(responses.neuropsychological.physical.headaches.experienceHeadachesCurrent)">
                                &nbsp;shared that currently ${pronoun.subject} experiences the same.

                                <template if.bind="!responses.neuropsychological.physical.headaches.skipHeadacheDescription && responses.neuropsychological.physical.headaches.headacheDescription.length">
                                    &nbsp;${gender.title} ${claimant.lastName} went on to describe ${pronoun.possessiveAdjective} headaches as: ${selectedHeadacheDescriptions | arrayToString:{"format":getItemValueForCurrentContext}}.
                                </template>
                                <template if.bind="!responses.neuropsychological.physical.headaches.skipHeadacheReliefActivities && responses.neuropsychological.physical.headaches.headacheReliefActivities.length">
                                    &nbsp;When asked how ${pronoun.subject} tries to obtain relief ${pronoun.subject} responded with: ${selectedHeadacheReliefActivities | arrayToString:{"format":getItemValueForCurrentContext}}.
                                </template>
                                <template if.bind="!responses.neuropsychological.physical.headaches.skipHeadacheFrequency && isAnswered(responses.neuropsychological.physical.headaches.headacheFrequency)">
                                    &nbsp;Upon inquiry, ${pronoun.subject} indicated the headaches ${headacheFrequenciesMap[responses.neuropsychological.physical.headaches.headacheFrequency].format(self)}.
                                </template>
                                <template if.bind="isAnswered(responses.neuropsychological.physical.headaches.headachesFluctuateWithActivityLevel)">
                                    &nbsp;${gender.title} ${claimant.lastName} advised that 
                                    <templatet if.bind="isDontKnow(responses.neuropsychological.physical.headaches.headachesFluctuateWithActivityLevel)">
                                        &nbsp;${pronoun.subject} does not know if ${pronoun.possessiveAdjective} headaches
                                    </templatet> 
                                    <template if.bind="isYes(responses.neuropsychological.physical.headaches.headachesFluctuateWithActivityLevel)">
                                        &nbsp;${pronoun.possessiveAdjective} headaches
                                    </template>
                                    <template if.bind="isNo(responses.neuropsychological.physical.headaches.headachesFluctuateWithActivityLevel)">
                                        &nbsp;${pronoun.possessiveAdjective} headaches do not
                                    </template>
                                    &nbsp;fluctuate with ${pronoun.possessiveAdjective} activity level.
                                </template>
                            </template>
                            <template else>
                                &nbsp;denied currently experiencing the same.
                            </template>
                        </template>
                        
                        <template if.bind="isAnswered(responses.neuropsychological.physical.headaches.experienceHeadachesPriorToAccident)">
                            <template if.bind="isYes(responses.neuropsychological.physical.headaches.experienceHeadachesPriorToAccident)">
                                &nbsp;${pronoun.subject | proper} advised that prior to the accident ${pronoun.subject} experienced headaches
                                <template if.bind="isYes(responses.neuropsychological.physical.headaches.changesInHeadachesSinceAccident)">
                                    , and noted that since the accident ${pronoun.subject} has noticed a change in ${pronoun.possessiveAdjective} headaches
                                </template>
                                <template else>
                                    , but denied any changes in ${pronoun.possessiveAdjective} headaches since the subject accident
                                </template>
                                .
                            </template>
                            <template else>
                                &nbsp;${pronoun.subject | proper}
                                <template if.bind="isNo(responses.neuropsychological.physical.headaches.experienceHeadachesCurrent)">
                                    &nbsp;also
                                </template>
                                &nbsp;denied having a pre-accident history of headaches.
                            </template>
                        </template>
                        
                        <template if.bind="isNo(responses.neuropsychological.physical.headaches.experienceMigrainesCurrent) && isNo(responses.neuropsychological.physical.headaches.experienceMigrainesPriorToAccident)">
                            &nbsp;${gender.title} ${claimant.lastName}
                            <template if.bind="isNo(responses.neuropsychological.physical.headaches.experienceHeadachesCurrent) && isNo(responses.neuropsychological.physical.headaches.experienceHeadachesPriorToAccident)">
                                &nbsp;further
                            </template>
                            &nbsp;denied experiencing migraines at the present time or having any pre-accident history of migraines.
                        </template>
                        <template else>
                            <template if.bind="isAnswered(responses.neuropsychological.physical.headaches.experienceMigrainesCurrent)">
                                &nbsp;${gender.title} ${claimant.lastName} 
                                <template if.bind="isYes(responses.neuropsychological.physical.headaches.experienceMigrainesCurrent)">
                                    &nbsp;also expressed that ${pronoun.subject} currently experiences migraines.
                                </template>
                                <template else>
                                    &nbsp;denied experiencing migraines at the present time.
                                </template>
                            </template>
                            
                            <template if.bind="isAnswered(responses.neuropsychological.physical.headaches.experienceMigrainesPriorToAccident)">
                                <template if.bind="isYes(responses.neuropsychological.physical.headaches.experienceMigrainesPriorToAccident)">
                                    &nbsp;${pronoun.subject | proper} acknowledged pre-accident history of migraines
                                    <template if.bind="responses.neuropsychological.physical.headaches.changesInMigrainesSinceAccident">
                                        <template if.bind="isYes(responses.neuropsychological.physical.headaches.changesInMigrainesSinceAccident)">
                                            , adding that ${pronoun.possessiveAdjective} migraines have 
                                        </template>
                                        <template else>
                                            , but indicated that ${pronoun.possessiveAdjective} migraines have not 
                                        </template>
                                        &nbsp;worsened since the subject accident
                                    </template>
                                    .
                                </template>
                                <template else>
                                    &nbsp;${pronoun.subject | proper} denied having any pre-accident history of migraines.
                                </template>
                            </template>
                        </template>
                    </p>

                    <!-- Appetite / Weight / Energy / Libido -->
                    <p>
                        <template if.bind="isAnswered(responses.neuropsychological.physical.weight.appetiteAffected)">
                            ${gender.title} ${claimant.lastName} related that since the accident ${pronoun.possessiveAdjective} appetite has 
                            <template if.bind="isNo(responses.neuropsychological.physical.weight.appetiteAffected)">
                                &nbsp;not
                            </template>
                            &nbsp;been affected. 
                        </template>
                        
                        <template if.bind="isAnswered(responses.neuropsychological.physical.weight.changed)">
                            <template if.bind="isYes(responses.neuropsychological.physical.weight.changed)">
                                <template if.bind="isAnswered(responses.neuropsychological.physical.weight.changeType)">
                                    &nbsp;${pronoun.subject | proper} shared that 
                                    <template if.bind="weightChangeTypesMap[responses.neuropsychological.physical.weight.changeType].isIncreaseOrDecrease">
                                        <template if.bind="responses.neuropsychological.physical.weight.changeAmount & signal:'weight-change-amount-changed'">
                                            &nbsp;${weightChangeTypesMap[responses.neuropsychological.physical.weight.changeType].format(self)} ${responses.neuropsychological.physical.weight.changeAmount} ${responses.neuropsychological.physical.weight.changeUnits}
                                        </template>
                                        <template else>
                                            &nbsp;${pronoun.possessiveAdjective} weight has ${responses.neuropsychological.physical.weight.changeType}
                                        </template>                                        
                                    </template>
                                    <template else>
                                        &nbsp;${weightChangeTypesMap[responses.neuropsychological.physical.weight.changeType].format(self)}
                                    </template>
                                    .
                                </template>
                            </template>
                            <template else>
                                &nbsp;${pronoun.subject | proper} shared that ${pronoun.possessiveAdjective} weight has not changed.
                            </template>
                        </template>
                        
                        <template if.bind="isAnswered(responses.neuropsychological.physical.energy.lessEnergy)">
                            &nbsp;${pronoun.subject | proper} advised that ${pronoun.possessiveAdjective} energy level has 
                            <template if.bind="isYes(responses.neuropsychological.physical.energy.lessEnergy)">
                                &nbsp;decreased
                            </template>
                            <template else>
                                &nbsp;not changed
                            </template>
                            .
                        </template>
                        
                        <template if.bind="isAnswered(responses.neuropsychological.physical.energy.libidoAffected)">
                            &nbsp;${gender.title} ${claimant.lastName} indicated that ${pronoun.possessiveAdjective} libido has 
                            <template if.bind="isNo(responses.neuropsychological.physical.energy.libidoAffected)">
                                &nbsp;not
                            </template>
                            &nbsp;been adversely affected.
                        </template>
                    </p>
                    
                    <!-- Sleep / Fatigue / Naps -->
                    <p>
                        <template if.bind="isAnswered(responses.neuropsychological.physical.sleep.sleepAffected)">
                            When asked about ${pronoun.possessiveAdjective} sleep, ${gender.title} ${claimant.lastName} shared that since the accident ${pronoun.possessiveAdjective} sleep has 
                            <template if.bind="isNo(responses.neuropsychological.physical.sleep.sleepAffected)">
                                &nbsp;not
                            </template>
                            &nbsp;been affected.
                        </template>
                        
                        <template if.bind="isAnswered(responses.neuropsychological.physical.sleep.problemsSleepingPriorToAccident)">
                            &nbsp;${pronoun.subject | proper} indicated that prior to the accident ${pronoun.subject} 
                            <template if.bind="isYes(responses.neuropsychological.physical.sleep.problemsSleepingPriorToAccident)">
                                &nbsp;had
                            </template>
                            <template else>
                                &nbsp;did not have any
                            </template>
                            &nbsp;issues sleeping.
                        </template>

                        <template if.bind="isAnswered(responses.neuropsychological.physical.sleep.betterSleepPriorToAccident)">
                            &nbsp;${pronoun.subject | proper} 
                            <template if.bind="isYes(responses.neuropsychological.physical.sleep.betterSleepPriorToAccident)">
                                &nbsp;described 
                            </template>
                            <template else>
                                &nbsp;did not describe 
                            </template>
                            &nbsp;the quality of ${pronoun.possessiveAdjective} sleep prior to the accident as being better.
                        </template>
                        
                        <template if.bind="responses.neuropsychological.physical.sleep.skipAmountOfSleepBeforeAccident">
                            <template if.bind="!responses.neuropsychological.physical.sleep.skipAmountOfSleepCurrent">
                                &nbsp;${pronoun.subject | proper} advised that currently ${pronoun.subject} is obtaining ${responses.neuropsychological.physical.sleep.amountOfSleepCurrent} of 
                                <template if.bind="isYes(responses.neuropsychological.physical.sleep.brokenSleep)">
                                    &nbsp;broken
                                </template>
                                &nbsp;sleep.
                            </template>
                        </template>
                        <template else>
                            <template if.bind="responses.neuropsychological.physical.sleep.dontKnowAmountOfSleepBeforeAccident">
                                &nbsp;${pronoun.subject | proper} disclosed that ${pronoun.subject} did not know how much sleep ${pronoun.subject} was obtaining prior to the accident.
                            </template>
                            <template if.bind="responses.neuropsychological.physical.sleep.amountOfSleepBeforeAccident.value !== null">
                                &nbsp;${pronoun.subject | proper} disclosed that prior to the accident ${pronoun.subject} was obtaining 
                                <template if.bind="responses.neuropsychological.physical.sleep.amountOfSleepBeforeAccidentBetween">
                                    &nbsp;between ${responses.neuropsychological.physical.sleep.amountOfSleepBeforeAccidentBetweenMin | numberTextIfLessThanTen} and ${responses.neuropsychological.physical.sleep.amountOfSleepBeforeAccidentBetweenMax | numberTextIfLessThanTen} 
                                </template>
                                <template else>
                                    &nbsp;${responses.neuropsychological.physical.sleep.amountOfSleepBeforeAccident | numberTextIfLessThanTen}
                                </template>
                                &nbsp;hours of sleep
                                <template if.bind="!responses.neuropsychological.physical.sleep.skipAmountOfSleepCurrent">
                                    <template if.bind="responses.neuropsychological.physical.sleep.amountOfSleepCurrent !== null || responses.neuropsychological.physical.sleep.amountOfSleepCurrentBetween">
                                        &nbsp;and advised that currently ${pronoun.subject} is obtaining 
                                        <template if.bind="responses.neuropsychological.physical.sleep.amountOfSleepCurrentBetween">
                                            &nbsp;between ${responses.neuropsychological.physical.sleep.amountOfSleepCurrentBetweenMin | numberTextIfLessThanTen} and ${responses.neuropsychological.physical.sleep.amountOfSleepCurrentBetweenMax | numberTextIfLessThanTen}
                                        </template>
                                        <template else>
                                            &nbsp;${responses.neuropsychological.physical.sleep.amountOfSleepCurrent | numberTextIfLessThanTen}
                                        </template>
                                        &nbsp;hours of 
                                        <template if.bind="isYes(responses.neuropsychological.physical.sleep.brokenSleep)">
                                            &nbsp;broken
                                        </template>
                                        &nbsp;sleep
                                    </template>
                                </template>
                                .
                            </template>
                        </template>

                        <template if.bind="allSelectedSleepIssues & signal:'sleep-issue-changed'">
                            &nbsp;${pronoun.subject | proper} detailed that ${pronoun.possessiveAdjective} ability to attain sleep has been affected, and that ${pronoun.subject} has issues sustaining and regaining sleep.
                        </template>
                        <template else>
                            <template if.bind="anySelectedSleepIssues & signal:'sleep-issue-changed'">
                                &nbsp;${pronoun.subject | proper} detailed that ${pronoun.possessiveAdjective} ability to 
                                ${selectedSleepIssues | arrayToString:{"format":getItemValueForCurrentContext} & signal:'sleep-issue-changed'} sleep has been affected
                                <template if.bind="anyUnselectedSleepIssues & signal:'sleep-issue-changed'">
                                    , but denied having any current issues with ${pronoun.possessiveAdjective} ability to 
                                    ${unselectedSleepIssues | arrayToString:{"format":getItemValueForCurrentContext} & signal:'sleep-issue-changed'} sleep
                                </template>
                                .
                            </template>
                            <template else>
                                <template if.bind="anyUnselectedSleepIssues & signal:'sleep-issue-changed'">
                                    &nbsp;${pronoun.subject | proper} detailed that ${pronoun.possessiveAdjective} ability to
                                    ${unselectedSleepIssues | arrayToString:{"format":getItemValueForCurrentContext} & signal:'sleep-issue-changed'} sleep has not been affected.
                                </template>
                            </template>            
                        </template>
                        
                        <template if.bind="anySelectedSleepIssueCauses & signal:'sleep-issue-cause-changed'">
                            &nbsp;${pronoun.subject | proper} then added that ${pronoun.possessiveAdjective} ability to sleep has been affected by ${pronoun.possessiveAdjective} 
                            ${selectedSleepIssueCauses | arrayToString:{"format":getItemValueForCurrentContext} & signal:'sleep-issue-cause-changed'}. 
                        </template>
                        
                        <template if.bind="isAnswered(responses.neuropsychological.physical.sleep.fatiguedWhenWaking)">
                            &nbsp;${pronoun.subject | proper} then shared that when waking ${pronoun.subject} 
                            <template if.bind="isYes(responses.neuropsychological.physical.sleep.fatiguedWhenWaking)">
                                &nbsp;does not feel well rested, rather still feels fatigued.
                            </template>
                            <template else>
                                &nbsp;feels rested and is not still fatigued.
                            </template>
                        </template>
                        
                        <template if.bind="isAnswered(responses.neuropsychological.physical.sleep.takeNaps)">
                            &nbsp;${gender.title} ${claimant.lastName} 
                            <template if.bind="isYes(responses.neuropsychological.physical.sleep.takeNaps)">
                                &nbsp;expressed that ${pronoun.subject} currently naps as needed.
                            </template>
                            <template else>
                                &nbsp;denied napping.
                            </template>
                        </template>
                    </p>

                    <!-- Present issue -->
                    <p>
                        <template if.bind="isAnswered(responses.accidentDetails.whatIsTroublingYou)">
                            Upon inquiry, ${gender.title} ${claimant.lastName} identified ${pronoun.possessiveAdjective} biggest issues at the present time as ${pronoun.possessiveAdjective}: <strong>${responses.accidentDetails.whatIsTroublingYou}</strong>
                        </template>
                    </p>
                </div>

                <hr>
            </div>
        </fieldset>

        <fieldset class="uk-fieldset">
            <legend class="uk-legend">P</legend>

            <div class="uk-grid-collapse uk-child-width-1-1" uk-grid>

                <div class="report-text uk-card uk-card-body uk-card-default" contenteditable="true">
                    <!-- Emotional Issues -->
                    <p>
                        <template if.bind="anyEmotionalIssues & signal:'emotional-issues-changed'">
                            <template if.bind="anyYesEmotionalIssues & signal:'emotional-issues-changed'">
                                When asked about ${pronoun.possessiveAdjective} emotional functioning, ${gender.title} ${claimant.lastName} stated that currently ${pronoun.subject} is experiencing: 
                                ${yesEmotionalIssues | arrayToString:{"format":getItemValueForCurrentContext,"delimiter":"; "} & signal:'emotional-issues-changed'}.    
                            </template>
                            <template if.bind="anyNoEmotionalIssues & signal:'emotional-issues-changed'">
                                &nbsp;${pronoun.subject | proper} specifically denied experiencing any of the following: 
                                ${noEmotionalIssues | arrayToString:{"format":getItemValueForCurrentContext,"delimiter":"; "} & signal:'emotional-issues-changed'}.    
                            </template>
                            <template if.bind="anyDontKnowEmotionalIssues & signal:'emotional-issues-changed'">
                                &nbsp;${pronoun.subject | proper} shared that ${pronoun.subject} does not know if ${pronoun.subject} has issues with:
                                ${dontKnowEmotionalIssues | arrayToString:{"format":getItemValueForCurrentContext,"delimiter":"; "} & signal:'emotional-issues-changed'}.
                            </template>
                            <template if.bind="yesCriesEasily & signal:'emotional-issues-changed'">
                                &nbsp;${pronoun.subject | proper} added that ${pronoun.subject} cries easily.
                            </template>
                            <template if.bind="noCriesEasily & signal:'emotional-issues-changed'">
                                &nbsp;${pronoun.subject | proper} denied that ${pronoun.subject} easily cries.
                            </template>
                            <template if.bind="dontKnowCriesEasily & signal:'emotional-issues-changed'">
                                &nbsp;Upon inquiry, ${gender.title} ${claimant.lastName} expressed that ${pronoun.subject} does not know if ${pronoun.subject} cries easily.
                            </template>
                        </template>
                    </p>
                
                    <!-- Self Harm -->
                    <p>
                        <template if.bind="isAnswered(responses.psychological.selfHarm.pastThoughts.response)">
                            When asked about any thoughts of self-harm, ${gender.title} ${claimant.lastName} 
                            <template if.bind="isYes(responses.psychological.selfHarm.pastThoughts.response)">
                                &nbsp;acknowledged that ${pronoun.subject} had thoughts in the past.
                            </template>
                            <template if.bind="isNo(responses.psychological.selfHarm.pastThoughts.response)">
                                &nbsp;denied having any thoughts of self-harm in the past.
                            </template>
                            <template if.bind="isDontKnow(responses.psychological.selfHarm.pastThoughts.response)">
                                &nbsp;reported that ${pronoun.subject} does not know if ${pronoun.subject} had any thoughts in the past.
                            </template>
                        </template>
                
                        <template if.bind="isAnswered(responses.psychological.selfHarm.currentThoughts.response)">
                            <template if.bind="isYes(responses.psychological.selfHarm.currentThoughts.response)">
                                &nbsp;${pronoun.subject | proper} related that ${pronoun.subject} currently experiences thoughts of self-harm.
                                
                                <template if.bind="isYes(responses.psychological.selfHarm.planToAct.response)">
                                    &nbsp;${pronoun.subject | proper} added that ${pronoun.subject} has a plan to act on these thoughts.
                                </template>
                                <template if.bind="isNo(responses.psychological.selfHarm.planToAct.response)">
                                    &nbsp;${pronoun.subject | proper} added that ${pronoun.subject} does not have a plan to act on these thoughts.
                                </template>
                                <template if.bind="isDontKnow(responses.psychological.selfHarm.planToAct.response)">
                                    &nbsp;${pronoun.subject | proper} added that ${pronoun.subject} does not know if ${pronoun.subject} would act on these thoughts. 
                                </template>
                
                                <template if.bind="isYes(responses.psychological.selfHarm.toldDoctor.response)">
                                    &nbsp;${pronoun.subject | proper} noted that ${pronoun.subject} has told ${pronoun.possessiveAdjective} doctor about these thoughts.
                                </template>
                                <template if.bind="isNo(responses.psychological.selfHarm.toldDoctor.response)">
                                    &nbsp;${pronoun.subject | proper} noted that ${pronoun.subject} has not told ${pronoun.possessiveAdjective} doctor about these thoughts.
                                </template>
                                <template if.bind="isDontKnow(responses.psychological.selfHarm.toldDoctor.response)">
                                    &nbsp;${pronoun.subject | proper} noted that ${pronoun.subject} does not know if ${pronoun.subject} has told ${pronoun.possessiveAdjective} doctor about these thoughts. 
                                </template>
                            </template>
                            <template if.bind="isNo(responses.psychological.selfHarm.currentThoughts.response)">
                                &nbsp;${pronoun.subject | proper} confirmed that ${pronoun.subject} does not have any thoughts of self-harm at the present time.
                            </template>
                            <template if.bind="isDontKnow(responses.psychological.selfHarm.currentThoughts.response)">
                                &nbsp;${pronoun.subject | proper} related that ${pronoun.subject} does not know if ${pronoun.subject} has any current thoughts of self-harm.
                            </template>
                        </template>
                
                        <template if.bind="isAnswered(responses.psychological.selfHarm.hurtSelfOnPurpose.response)">
                            &nbsp;${gender.title} ${claimant.lastName} indicated that ${pronoun.subject} 
                            <template if.bind="isYes(responses.psychological.selfHarm.hurtSelfOnPurpose.response)">
                                &nbsp;has hurt ${pronoun.object}self on purpose.
                            </template>
                            <template if.bind="isNo(responses.psychological.selfHarm.hurtSelfOnPurpose.response)">
                                &nbsp;has never hurt ${pronoun.object}self on purpose.
                            </template>
                            <template if.bind="isDontKnow(responses.psychological.selfHarm.hurtSelfOnPurpose.response)">
                                &nbsp;does not know if ${pronoun.subject} has ever hurt ${pronoun.object}self on purpose.
                            </template>
                        </template>

                        <template if.bind="isAnswered(responses.psychological.selfHarm.attemptedToEndLife.response)">
                            &nbsp;${pronoun.subject | proper} added that ${pronoun.subject} 
                            <template if.bind="isYes(responses.psychological.selfHarm.attemptedToEndLife.response)">
                                &nbsp;has attempted to end ${pronoun.possessiveAdjective} own life.
                            </template>
                            <template if.bind="isNo(responses.psychological.selfHarm.attemptedToEndLife.response)">
                                &nbsp;has never attempted to end ${pronoun.possessiveAdjective} own life.
                            </template>
                        </template>
                
                        <template if.bind="isYes(responses.psychological.selfHarm.currentThoughts.response)">
                            &nbsp;The assessor would stress that if ${pronoun.possessiveAdjective} thoughts of self-harm continue or worsen that 
                            ${pronoun.subject} should call 911 or attend ${pronoun.possessiveAdjective} local emergency department immediately.
                        </template>
                
                        <template if.bind="!isYes(responses.psychological.selfHarm.currentThoughts.response) && isYes(responses.psychological.selfHarm.pastThoughts.response)">
                            &nbsp;The assessor would stress that if ${pronoun.possessiveAdjective} thoughts of self-harm return that 
                            ${pronoun.subject} should call 911 or attend ${pronoun.possessiveAdjective} local emergency department immediately.
                        </template>
                    </p>

                    <!-- Depression Symptoms -->
                    <p>
                        <template if.bind="anyDepressionSymptoms & signal:'depression-symptom-changed'">
                            <template if.bind="anyYesDepressionSymptoms & signal:'depression-symptom-changed'">
                                ${gender.title} ${claimant.lastName} reported that ${pronoun.subject} is: 
                                ${yesDepressionSymptoms | arrayToString:{"format":getItemValueForCurrentContext,"delimiter":"; "} & signal:'depression-symptom-changed'}.        
                            </template>
                            <template if.bind="anyNoDepressionSymptoms & signal:'depression-symptom-changed'">
                                <template if.bind="!anyYesDepressionSymptoms & signal:'depression-symptom-changed'">
                                    &nbsp;${gender.title} ${claimant.lastName} reported 
                                </template>
                                <template else>
                                    &nbsp;${pronoun.subject | proper} stated 
                                </template>
                                &nbsp;that ${pronoun.subject} is not: 
                                ${noDepressionSymptoms | arrayToString:{"format":getItemValueForCurrentContext,"connector":"or","delimiter":"; "} & signal:'depression-symptom-changed'}.
                            </template>
                            <template if.bind="anyDontKnowDepressionSymptoms & signal:'depression-symptom-changed'">
                                <template if.bind="!(anyYesDepressionSymptoms || anyNoDepressionSymptoms) & signal:'depression-symptom-changed'">
                                    &nbsp;${gender.title} ${claimant.lastName} reported 
                                </template>
                                <template else>
                                    &nbsp;${pronoun.subject | proper} indicated 
                                </template>
                                &nbsp;that ${pronoun.subject} does not know if ${pronoun.subject} is: 
                                ${dontKnowDepressionSymptoms | arrayToString:{"format":getItemValueForCurrentContext,"connector":"or","delimiter":"; "} & signal:'depression-symptom-changed'}.
                            </template>
                        </template>
                
                        <template if.bind="isAnswered(responses.psychological.neurosisSymptoms.anxiety) || isAnswered(responses.psychological.neurosisSymptoms.stress)">
                            <template if.bind="isYes(responses.psychological.neurosisSymptoms.anxiety)">
                                <template if.bind="isYes(responses.psychological.neurosisSymptoms.stress)">
                                    &nbsp;${pronoun.subject | proper} went on to describe being anxious and stressed.
                                </template>
                                <template if.bind="isNo(responses.psychological.neurosisSymptoms.stress)">
                                    &nbsp;${pronoun.subject | proper} described ${pronoun.object}self as anxious but denied feeling stressed at the present time.
                                </template>
                                <template if.bind="isSkip(responses.psychological.neurosisSymptoms.stress) || responses.psychological.neurosisSymptoms.stress === null">
                                    &nbsp;${pronoun.subject | proper} went on to describe being anxious.
                                </template>
                            </template>
                            <template if.bind="isNo(responses.psychological.neurosisSymptoms.anxiety)">
                                <template if.bind="isYes(responses.psychological.neurosisSymptoms.stress)">
                                    &nbsp;${pronoun.subject | proper} described ${pronoun.object}self as being stressed, but denied experiencing anxiety at the present time.
                                </template>
                                <template if.bind="isNo(responses.psychological.neurosisSymptoms.stress)">
                                    &nbsp;${pronoun.subject | proper} reported that at the present time ${pronoun.subject} is not anxious or stressed.
                                </template>
                                <template if.bind="isSkip(responses.psychological.neurosisSymptoms.stress) || responses.psychological.neurosisSymptoms.stress === null">
                                    &nbsp;${pronoun.subject | proper} denied being anxious.
                                </template>
                            </template>
                            <template if.bind="isSkip(responses.psychological.neurosisSymptoms.anxiety) || responses.psychological.neurosisSymptoms.anxiety === null">
                                <template if.bind="isYes(responses.psychological.neurosisSymptoms.stress)">
                                    &nbsp;${pronoun.subject | proper} went on to describe being stressed.
                                </template>
                                <template if.bind="isNo(responses.psychological.neurosisSymptoms.stress)">
                                    &nbsp;${pronoun.subject | proper} denied being stressed.
                                </template>
                            </template>
                        </template>
                
                        <template if.bind="isAnswered(responses.psychological.neurosisSymptoms.inabilityToRelax) || isAnswered(responses.psychological.neurosisSymptoms.fearOfWorst)">
                            <template if.bind="isYes(responses.psychological.neurosisSymptoms.inabilityToRelax)">
                                <template if.bind="isYes(responses.psychological.neurosisSymptoms.fearOfWorst)">
                                    &nbsp;${gender.title} ${claimant.lastName} indicated that ${pronoun.subject} is unable to relax and has a fear of the worst happening.
                                </template>
                                <template if.bind="isNo(responses.psychological.neurosisSymptoms.fearOfWorst)">
                                    &nbsp;${gender.title} ${claimant.lastName} indicated that ${pronoun.subject} is unable to relax but does not have a fear of the worst happening.
                                </template>
                                <template if.bind="isSkip(responses.psychological.neurosisSymptoms.fearOfWorst) || responses.psychological.neurosisSymptoms.fearOfWorst === null">
                                    &nbsp;${gender.title} ${claimant.lastName} shared that ${pronoun.subject} is unable to relax.
                                </template>
                            </template>
                            <template if.bind="isNo(responses.psychological.neurosisSymptoms.inabilityToRelax)">
                                <template if.bind="isYes(responses.psychological.neurosisSymptoms.fearOfWorst)">
                                    &nbsp;${gender.title} ${claimant.lastName} indicated that ${pronoun.subject} is able to relax but has a fear of the worst happening.
                                </template>
                                <template if.bind="isNo(responses.psychological.neurosisSymptoms.fearOfWorst)">
                                    &nbsp;${gender.title} ${claimant.lastName} indicated that ${pronoun.subject} is able to relax and does not have a fear of the worst happening.
                                </template>
                                <template if.bind="isSkip(responses.psychological.neurosisSymptoms.fearOfWorst) || responses.psychological.neurosisSymptoms.fearOfWorst === null">
                                    &nbsp;${gender.title} ${claimant.lastName} reported that ${pronoun.subject} does not have any issues being unable to relax.
                                </template>
                            </template>
                            <template if.bind="isSkip(responses.psychological.neurosisSymptoms.inabilityToRelax) || responses.psychological.neurosisSymptoms.inabilityToRelax === null">
                                <template if.bind="isYes(responses.psychological.neurosisSymptoms.fearOfWorst)">
                                    &nbsp;${gender.title} ${claimant.lastName} shared that ${pronoun.subject} has a fear of the worst happening.
                                </template>
                                <template if.bind="isNo(responses.psychological.neurosisSymptoms.fearOfWorst)">
                                    &nbsp;${gender.title} ${claimant.lastName} reported that ${pronoun.subject} does not have a fear of the worst happening.
                                </template>
                            </template>
                        </template>
            
                        <template if.bind="anyWorries & signal:'worry-changed'">
                            <template if.bind="(anyYesWorries && anyNoWorries) & signal:'worry-changed'">
                                &nbsp;Upon inquiry ${pronoun.subject} reported that at the present time ${pronoun.subject} worries about ${pronoun.possessiveAdjective}
                                ${yesWorries | arrayToString:{"format":getItemValueForCurrentContext} & signal:'worry-changed'}, but denied worrying about ${pronoun.possessiveAdjective} 
                                ${noWorries | arrayToString:{"format":getItemValueForCurrentContext,"connector":"or"} & signal:'worry-changed'}.
                            </template>            
                            <template if.bind="(anyYesWorries && !anyNoWorries) & signal:'worry-changed'">
                                &nbsp;${pronoun.subject | proper} also noted that ${pronoun.subject} worries about ${pronoun.possessiveAdjective} 
                                ${yesWorries | arrayToString:{"format":getItemValueForCurrentContext} & signal:'worry-changed'}.
                            </template>
                            <template if.bind="(!anyYesWorries && anyNoWorries) & signal:'worry-changed'">
                                &nbsp;${pronoun.subject | proper} denied worrying about ${pronoun.possessiveAdjective} 
                                ${noWorries | arrayToString:{"format":getItemValueForCurrentContext,"connector":"or"} & signal:'worry-changed'}.
                            </template>
                        </template>
                
                        <template if.bind="isAnswered(responses.psychological.panicAttacksCurrent)">
                            &nbsp;${gender.title} ${claimant.lastName} reported that since the accident ${pronoun.subject} has 
                            <template if.bind="isNo(responses.psychological.panicAttacksCurrent)">
                                &nbsp;not
                            </template>
                            &nbsp;experienced panic attacks.
                        </template>
                
                        <template if.bind="isAnswered(responses.psychological.panicAttacksPrior)">
                            &nbsp;${pronoun.subject | proper} 
                            <template if.bind="isYes(responses.psychological.panicAttacksPrior)">
                                &nbsp;acknowledged a 
                            </template>
                            <template else>
                                &nbsp;denied having any 
                            </template>
                            &nbsp;pre-accident history of panic attacks.
                        </template>
                        
                        <template if.bind="isAnswered(responses.psychological.heightenedStartleResponse)">
                            &nbsp;${pronoun.subject | proper} further expressed that ${pronoun.subject} 
                            <template if.bind="isYes(responses.psychological.heightenedStartleResponse)">
                                &nbsp;now has
                            </template>
                            <template else>
                                &nbsp;does not have
                            </template>
                            &nbsp;a heightened startle response.
                        </template>
                        
                        <template if.bind="isAnswered(responses.psychological.flashbacksAfter)">
                            &nbsp;${gender.title} ${claimant.lastName} 
                            <template if.bind="isYes(responses.psychological.flashbacksAfter)">
                                &nbsp;went on to share that after the accident ${pronoun.subject} experienced flashbacks.
                            </template>
                            <template else>
                                &nbsp;indicated that after the accident ${pronoun.subject} did not experience any flashbacks.
                            </template>
                        </template>
                
                        <template if.bind="isAnswered(responses.psychological.flashbacksCurrent)">
                            <template if.bind="isYes(responses.psychological.flashbacksCurrent)">
                                &nbsp;${pronoun.subject | proper} then noted that ${pronoun.subject} continues to experience flashbacks.
                            </template>
                            <template else>
                                &nbsp;${pronoun.subject | proper} noted that ${pronoun.subject} does not experience flashbacks at the present time.
                            </template>
                        </template>
                
                        <template if.bind="isAnswered(responses.psychological.nightmaresAfter)">
                            <template if.bind="isYes(responses.psychological.nightmaresAfter)">
                                &nbsp;When asked about any nightmares, ${gender.title} ${claimant.lastName} indicated that after the accident ${pronoun.subject} experienced the same.
                            </template>
                            <template else>
                                &nbsp;${gender.title} ${claimant.lastName} indicated that ${pronoun.subject} did not have any nightmares after the accident. 
                            </template>
                        </template>
                
                        <template if.bind="isAnswered(responses.psychological.nightmaresCurrent)">
                            <template if.bind="isYes(responses.psychological.nightmaresCurrent)">
                                &nbsp;${pronoun.subject | proper} then added that ${pronoun.subject} still experiences nightmares. 
                            </template>
                            <template else>
                                &nbsp;${pronoun.subject | proper} denied experiencing nightmares at the present time.
                            </template>
                        </template>
                
                        <template if.bind="(isAnswered(responses.psychological.delusionalIdeation) || isAnswered(responses.psychological.hallucinations)) & signal:'hallucinations-changed'">
                            <template if.bind="isYes(responses.psychological.delusionalIdeation) & signal:'hallucinations-changed'">
                                &nbsp;Upon inquiry, ${pronoun.subject} reported having delusional ideation.
                            </template>
                            <template if.bind="isNo(responses.psychological.delusionalIdeation) && (responses.psychological.hallucinations.value === null)  & signal:'hallucinations-changed'">
                                &nbsp;Upon inquiry, ${pronoun.subject} denied having any delusional ideation.
                            </template>
                            <template if.bind="isYes(responses.psychological.hallucinations) & signal:'hallucinations-changed'">
                                <template if.bind="isNo(responses.psychological.delusionalIdeation) & signal:'hallucinations-changed'">
                                    &nbsp;Upon inquiry, ${pronoun.subject} denied having any delusional ideation.
                                </template>
                                &nbsp;${pronoun.subject | proper} stated that ${pronoun.subject} experiences 
                                <template if.bind="anyHallucinationCharacteristics & signal:'hallucinations-changed'">
                                    &nbsp;${hallucinationCharacteristics | arrayToString:{"format":getItemValueForCurrentContext} & signal:'hallucinations-changed'} 
                                </template>
                                &nbsp;hallucinations.
                            </template>
                            <template if.bind="isNo(responses.psychological.hallucinations) && !isNo(responses.psychological.delusionalIdeation) & signal:'hallucinations-changed'">
                                &nbsp;${pronoun.subject | proper} stated that ${pronoun.subject} does not experience hallucinations.
                            </template>
                            <template if.bind="isNo(responses.psychological.delusionalIdeation) && isNo(responses.psychological.hallucinations) & signal:'hallucinations-changed'">
                                &nbsp;Upon inquiry, ${pronoun.subject} denied having any delusions or hallucinations.
                            </template>
                        </template>
            
                        <template if.bind="isYes(responses.psychological.feelSurveilled)">
                            &nbsp;${pronoun.subject | proper} reported ${pronoun.subject} currently feels that ${pronoun.subject} is being watched or surveilled.
                        </template>
                        <template if.bind="isNo(responses.psychological.feelSurveilled)">
                            &nbsp;${pronoun.subject | proper} denied currently feeling watched or surveilled.
                        </template>
                    </p>
                
                    <!-- Driver's License -->
                    <p>
                        <template if.bind="isAnswered(responses.psychological.travel.driverLicense.haveLicense)">
                            Upon inquiry ${gender.title} ${claimant.lastName} reported that ${pronoun.subject} does 
                            <template if.bind="isNo(responses.psychological.travel.driverLicense.haveLicense)">
                                &nbsp;not
                            </template>
                            &nbsp;have a driver's licence.
                        </template>
                        <template if.bind="isYes(responses.psychological.travel.driverLicense.haveLicense) && isAnswered(responses.psychological.travel.driverLicense.isSuspended)">
                            &nbsp;${pronoun.subject | proper} went on to report that ${pronoun.possessiveAdjective} licence is
                            <template if.bind="isNo(responses.psychological.travel.driverLicense.isSuspended)">
                                &nbsp;not
                            </template>
                            &nbsp;currently
                            <template if.bind="isYes(responses.psychological.travel.driverLicense.isSuspended) && isAnswered(responses.psychological.travel.driverLicense.suspensionType)">
                                &nbsp;${responses.psychological.travel.driverLicense.suspensionType}
                            </template>
                            &nbsp;suspended.
                        </template>
                    </p>

                    <!-- Travel -->
                    <p>
                        <template if.bind="isAnswered(responses.psychological.travel.abilityToTravel)">
                            In terms of vehicular travel, ${gender.title} ${claimant.lastName} stated that since the accident ${pronoun.possessiveAdjective} ability to travel has 
                            <template if.bind="isYes(responses.psychological.travel.abilityToTravel)">
                                &nbsp;been affected
                                <template if.bind="anyTravelIssues & signal:'travel-changed'">
                                    &nbsp;by ${pronoun.possessiveAdjective} 
                                    ${selectedTravelIssues | arrayToString:{"format":getItemValueForCurrentContext} & signal:'travel-changed'}
                                </template>
                                .
                            </template>
                            <template else>
                                &nbsp;not been affected.
                            </template>
                        </template>
            
                        <template if.bind="responses.psychological.travel.nervousDriver || responses.psychological.travel.anxiousDriver">
                            &nbsp;${pronoun.subject | proper} described ${pronoun.object}self as 
                            <template if.bind="responses.psychological.travel.nervousDriver && responses.psychological.travel.anxiousDriver">
                                &nbsp;being both a nervous and anxious
                            </template>
                            <template if.bind="responses.psychological.travel.nervousDriver && !responses.psychological.travel.anxiousDriver">
                                &nbsp;a nervous
                            </template>
                            <template if.bind="!responses.psychological.travel.nervousDriver && responses.psychological.travel.anxiousDriver">
                                &nbsp;an anxious
                            </template>
                            &nbsp;driver.
                        </template>
                
                        <template if.bind="responses.psychological.travel.nervousPassenger || responses.psychological.travel.anxiousPassenger">
                            &nbsp;${pronoun.subject | proper} also stated that ${pronoun.subject} feels 
                            <template if.bind="responses.psychological.travel.nervousPassenger && responses.psychological.travel.anxiousPassenger">
                                &nbsp;both nervous and anxious
                            </template>
                            <template if.bind="responses.psychological.travel.nervousPassenger && !responses.psychological.travel.anxiousPassenger">
                                &nbsp;nervous
                            </template>
                            <template if.bind="!responses.psychological.travel.nervousPassenger && responses.psychological.travel.anxiousPassenger">
                                &nbsp;anxious
                            </template>
                            &nbsp;when ${pronoun.subject} is traveling as a passenger.
                        </template>
                
                        <template if.bind="responses.psychological.travel.nervousPedestrian || responses.psychological.travel.anxiousPedestrian">
                            &nbsp;${pronoun.subject | proper} shared that ${pronoun.subject} is 
                            <template if.bind="responses.psychological.travel.nervousPedestrian && responses.psychological.travel.anxiousPedestrian">
                                &nbsp;a nervous and anxious
                            </template>
                            <template if.bind="responses.psychological.travel.nervousPedestrian && !responses.psychological.travel.anxiousPedestrian">
                                &nbsp;a nervous
                            </template>
                            <template if.bind="!responses.psychological.travel.nervousPedestrian && responses.psychological.travel.anxiousPedestrian">
                                &nbsp;an anxious
                            </template>
                            &nbsp;pedestrian.
                        </template>
                
                        <template if.bind="isAnswered(responses.psychological.travel.usePhantomBrake)">
                            &nbsp;When asked, ${gender.title} ${claimant.lastName} indicated that when traveling as a passenger, ${pronoun.subject} 
                            <template if.bind="isYes(responses.psychological.travel.usePhantomBrake)">
                                &nbsp;will
                            </template>
                            <template else>
                                &nbsp;does not
                            </template>
                            &nbsp;use a phantom brake.
                        </template>
                
                        <template if.bind="isAnswered(responses.psychological.travel.vigilantWhenTravelling)">
                            &nbsp;${pronoun.subject | proper} further expressed that ${pronoun.subject} is 
                            <template if.bind="isNo(responses.psychological.travel.vigilantWhenTravelling)">
                                &nbsp;not any
                            </template>
                            &nbsp;more vigilant when traveling.
                        </template>
                
                        <template if.bind="isAnswered(responses.psychological.travel.travelPreference)">
                            &nbsp;Upon inquiry, ${pronoun.subject} advised that ${pronoun.subject} prefers to be a ${travelPreferencesMap[responses.psychological.travel.travelPreference].format(self)}
                            <template if.bind="isAnswered(responses.psychological.travel.avoidSceneOfAccident)">
                                &nbsp;and shared that 
                                <template if.bind="isYes(responses.psychological.travel.avoidSceneOfAccident)">
                                    &nbsp;if at all possible, ${pronoun.subject} will tend to avoid the scene of the accident.
                                </template>
                                <template else>
                                    &nbsp;${pronoun.subject} does not tend to avoid the scene of the accident.
                                </template>
                            </template>
                            <template else>
                                .
                            </template>
                        </template>
                
                        <template if.bind="!isAnswered(responses.psychological.travel.travelPreference) && isAnswered(responses.psychological.travel.avoidSceneOfAccident)">
                            &nbsp;${pronoun.subject | proper} also shared that 
                            <template if.bind="isYes(responses.psychological.travel.avoidSceneOfAccident)">
                                &nbsp;if at all possible, ${pronoun.subject} will tend to avoid the scene of the accident.
                            </template>
                            <template else>
                                &nbsp;${pronoun.subject} does not tend to avoid the scene of the accident.
                            </template>
                        </template>
            
                        <template if.bind="isYes(responses.psychological.travel.ableToDrive)">
                            &nbsp;${pronoun.subject | proper} confirmed that ${pronoun.subject} can drive when ${pronoun.subject} needs to.
                        </template>
                        <template if.bind="isNo(responses.psychological.travel.ableToDrive)">
                            &nbsp;${pronoun.subject | proper} advised that ${pronoun.subject} cannot drive, even when ${pronoun.subject} needs to.
                        </template>
                    </p>

                    <!-- Stressors -->
                    <p>
                        <template if.bind="(anySelectedStressors || anyUnselectedStressors || anySelectedFamilyStressors || anyUnselectedFamilyStressors) & signal:'stressor-changed'">
                            ${gender.title} ${claimant.lastName} was asked about any major stressors in ${pronoun.possessiveAdjective} life in the last five years (aside from the subject accident). 
                            
                            <template if.bind="anySelectedStressors & signal:'stressor-changed'">
                                &nbsp;${pronoun.subject | proper} reported that ${pronoun.subject} has experienced ${selectedStressors | arrayToString:{"format":getItemValueForCurrentContext} & signal:'stressor-changed'}.
                            </template>
                            <template if.bind="anyUnselectedStressors & signal:'stressor-changed'">
                                &nbsp;${pronoun.subject | proper} denied having experienced ${unselectedStressors | arrayToString:{"format":getItemValueForCurrentContext,"connector":"or"} & signal:'stressor-changed'}.
                            </template>
                            <template if.bind="anySelectedFamilyStressors & signal:'stressor-changed'">
                                &nbsp;${pronoun.subject | proper} added that ${pronoun.possessiveAdjective} family has experienced ${selectedFamilyStressors | arrayToString:{"format":getItemValueForCurrentContext} & signal:'stressor-changed'}.
                            </template>
                            <template if.bind="anyUnselectedFamilyStressors & signal:'stressor-changed'">
                                &nbsp;${pronoun.subject | proper} denied that ${pronoun.possessiveAdjective} family had experienced ${unselectedFamilyStressors | arrayToString:{"format":getItemValueForCurrentContext,"connector":"or"} & signal:'stressor-changed'}.
                            </template>
                        </template>
                    </p>

                    <!-- Interest in counselling -->
                    <p>
                        <template if.bind="isAnswered(responses.psychological.selfHarm.interestedInTreatment.response)">
                            Upon inquiry, ${gender.title} ${claimant.lastName} stated that ${pronoun.subject} 
                            <template if.bind="isYes(responses.psychological.selfHarm.interestedInTreatment.response)">
                                &nbsp;is interested in psychological treatment. 
                            </template>
                            <template if.bind="isNo(responses.psychological.selfHarm.interestedInTreatment.response)">
                                &nbsp;is not interested in psychological treatment.
                            </template>
                            <template if.bind="isDontKnow(responses.psychological.selfHarm.interestedInTreatment.response)">
                                &nbsp;does not know if ${pronoun.subject} is interested in psychological treatment.
                            </template>
                        </template> 
                    </p>

                    <!-- Physical 6 -->
                    <p>
                        <template if.bind="isAnswered(responses.neuropsychological.physical.changes.changeInMood)">
                            When asked if ${pronoun.subject} has noticed any change with ${pronoun.possessiveAdjective} emotional state with the passage of time, ${gender.title} ${claimant.lastName} shared that 
                            ${moodChangeTypesMap[responses.neuropsychological.physical.changes.changeInMood].format(self)}.
                        </template>  
                    </p>
                </div>

                <hr>
            </div>
        </fieldset>

        <fieldset class="uk-fieldset">
            <legend class="uk-legend">NP</legend>

            <div class="uk-grid-collapse uk-child-width-1-1" uk-grid>
                
                <div class="report-text uk-card uk-card-body uk-card-default" contenteditable="true">
                    <!-- Neurocognitive problems -->
                    <p>
                        <template if.bind="isAnswered(responses.neuropsychological.problems.concentration)">
                            Regarding ${pronoun.possessiveAdjective} neurocognitive functioning, 
                            ${gender.title} ${claimant.lastName} stated that 
                            <template if.bind="isYes(responses.neuropsychological.problems.concentration)">&nbsp;${pronoun.subject} has</template>
                            <template else>&nbsp;at the current time ${pronoun.subject} does not have any</template>&nbsp;issues with concentration. 
                        </template>
                        
                        <template if.bind="isAnswered(responses.neuropsychological.problems.memory)">
                            &nbsp;${pronoun.subject | proper} 
                            <template if.bind="isYes(responses.neuropsychological.problems.memory)">
                                &nbsp;went on to report that ${pronoun.subject} has problems with ${pronoun.possessiveAdjective} memory
                                <template if.bind="isYes(responses.neuropsychological.problems.shortTermMemory)">
                                    &nbsp;(including ${pronoun.possessiveAdjective} short-term memory)
                                </template>.
                            </template>
                            <template else>
                                &nbsp;denied having any issues with ${pronoun.possessiveAdjective} memory (including ${pronoun.possessiveAdjective} short-term memory).
                            </template>
                        </template>
                        
                        <template if.bind="isAnswered(responses.neuropsychological.memory.visual.forgetWhereaboutsOfObjects)">
                            &nbsp;${gender.title} ${claimant.lastName} shared that ${pronoun.subject} will 
                            <template if.bind="isNo(responses.neuropsychological.memory.visual.forgetWhereaboutsOfObjects)">
                                &nbsp;not
                            </template>
                            &nbsp;frequently forget the whereabouts of objects around ${pronoun.possessiveAdjective} home
                            <template if.bind="anyForgottenWhereaboutsObjects & signal:'memory-visual-whereabouts-objects-changed'">
                                &nbsp;(including ${pronoun.possessiveAdjective}: ${forgottenWhereaboutsObjects | arrayToString & signal:'memory-visual-whereabouts-objects-changed'})
                            </template>
                            .
                        </template>
                        
                        <template if.bind="isAnswered(responses.neuropsychological.memory.working.walkIntoRoomAndForgetWhyFrequently)">
                            <template if.bind="isYes(responses.neuropsychological.memory.working.walkIntoRoomAndForgetWhyFrequently)">
                                &nbsp;${pronoun.subject | proper} went on to report that ${pronoun.subject} will frequently walk into a room and forget why.
                            </template>
                            <template else>
                                &nbsp;${pronoun.subject | proper} further denied frequently walking into a room and forgetting why.
                            </template>
                        </template>
                        
                        <template if.bind="isAnswered(responses.neuropsychological.memory.aids.useAids)">
                            <template if.bind="isYes(responses.neuropsychological.memory.aids.useAids)">
                                &nbsp;Upon inquiry, ${gender.title} ${claimant.lastName} shared that 
                                <template if.bind="anyNonFamilyMemoryAidsUsed & signal:'memory-aids-used-changed'">
                                    &nbsp;currently ${pronoun.subject} uses the following as aids to ${pronoun.possessiveAdjective} memory: ${selectedMemoryAids | arrayToString:{"format":getItemValueForCurrentContext} & signal:'memory-aids-used-changed'}
                                    <template if.bind="responses.neuropsychological.memory.aids.familyUsed">
                                        , adding that ${pronoun.possessiveAdjective} family also helps ${pronoun.object} to remember things
                                    </template>
                                    .
                                </template>
                                <template if.bind="!anyNonFamilyMemoryAidsUsed && responses.neuropsychological.memory.aids.familyUsed & signal:'memory-aids-used-changed'">
                                    &nbsp;${pronoun.possessiveAdjective} family helps ${pronoun.object} to remember things.
                                </template>
                            </template>
                            <template else>
                                &nbsp;Upon inquiry, ${gender.title} ${claimant.lastName} denied using any memory aids at the current time.
                            </template>
                        </template>
                        
                        <template if.bind="isAnswered(responses.neuropsychological.memory.autobiographical.personalInfo)">
                            <template if.bind="isYes(responses.neuropsychological.memory.autobiographical.personalInfo)">
                                &nbsp;When asked if ${pronoun.subject} had any issues recalling autobiographical information (such as ${pronoun.possessiveAdjective} address, date of birth, or phone number), ${pronoun.subject} shared that ${pronoun.subject} has experienced the same. 
                            </template>
                            <template else>
                                &nbsp;${pronoun.subject | proper} denied having issues with ${pronoun.possessiveAdjective} ability to recall autobiographical information. 
                            </template>
                        </template>
                        
                        <template if.bind="isAnswered(responses.neuropsychological.memory.medication.errors)">
                            <template if.bind="isYes(responses.neuropsychological.memory.medication.errors)">
                                &nbsp;${pronoun.subject | proper} indicated that ${pronoun.subject} has made medication errors.
                            </template>
                            <template else>
                                &nbsp;${pronoun.subject | proper} denied that ${pronoun.subject} has made any medication errors. 
                            </template>
                        </template>
                        
                        <template if.bind="isYes(responses.neuropsychological.memory.medication.usesDosette)">
                            &nbsp;${pronoun.subject | proper} then added that ${pronoun.subject} uses a Dosette.
                        </template>
                        <template if.bind="isNo(responses.neuropsychological.memory.medication.usesDosette)">
                            &nbsp;${pronoun.subject | proper} reported that ${pronoun.subject} does not use a Dosette.
                        </template>
                
                        <template if.bind="isAnswered(responses.neuropsychological.memory.medication.usesBlisterPacks)">
                            &nbsp;${pronoun.subject | proper} 
                            <template if.bind="isYes(responses.neuropsychological.memory.medication.usesDosette)">
                                &nbsp;additionally shared 
                            </template>
                            <template else>
                                &nbsp;then added 
                            </template>
                            &nbsp;that ${pronoun.subject} 
                            <template if.bind="isYes(responses.neuropsychological.memory.medication.usesBlisterPacks)">
                                &nbsp;uses
                            </template>
                            <template if.bind="isNo(responses.neuropsychological.memory.medication.usesBlisterPacks)">
                                &nbsp;does not use
                            </template>
                            &nbsp;blister packs.
                        </template>
                    </p>
                    
                    <p>
                        <template if.bind="anySelectedSafetyConcerns || anyUnselectedSafetyConcerns || anyDontKnowSafetyConcerns">
                            When asked about safety concerns, ${gender.title} ${claimant.lastName} 
                            <template if.bind="anySelectedSafetyConcerns">
                                &nbsp;described ${selectedSafetyConcerns | arrayToString:{"format":getItemValueForCurrentContext,"delimiter":", "}}.
                            </template>
                            <template if.bind="anyUnselectedSafetyConcerns">
                                <template if.bind="anySelectedSafetyConcerns">
                                    &nbsp;${pronoun.subject | proper} then 
                                </template>
                                &nbsp;denied ever ${unselectedSafetyConcerns | arrayToString:{"format":getItemValueForCurrentContext,"delimiter":", ","connector":"or"}}.
                            </template>
                            <template if.bind="anyDontKnowSafetyConcerns">
                                <template if.bind="anySelectedSafetyConcerns || anyUnselectedSafetyConcerns">
                                    &nbsp;${pronoun.subject | proper} further 
                                </template>
                                &nbsp;reported that ${pronoun.subject} did not know if ${pronoun.subject} has ${dontKnowSafetyConcerns | arrayToString:{"format":getItemValueForCurrentContextPast,"delimiter":", ","connector":"or"}}.
                            </template>
                        </template>
                    </p>
                
                    <!-- Linguistic Functioning / Attention -->
                    <p>
                        <template if.bind="anySelectedLanguageIssues || anyUnselectedLanguageIssues & signal:'language-issue-changed'">
                            When asked about ${pronoun.possessiveAdjective} linguistic functioning, ${gender.title} ${claimant.lastName} 
                            <template if.bind="anySelectedLanguageIssues & signal:'language-issue-changed'">
                                &nbsp;reported that at the present time ${pronoun.subject} experiences:
                                &nbsp;${selectedLanguageIssues | arrayToString:{"format":getItemValueForCurrentContext,"delimiter":"; ","lastConnector":false} & signal:'language-issue-changed'}.
                            </template>
                            <template if.bind="anyUnselectedLanguageIssues & signal:'language-issue-changed'">
                                <template if.bind="anySelectedLanguageIssues & signal:'language-issue-changed'">
                                    &nbsp;${pronoun.subject | proper}
                                </template>
                                &nbsp;specifically denied any of the following:
                                &nbsp;${unselectedLanguageIssues | arrayToString:{"format":getItemValueForCurrentContext,"delimiter":"; ","lastConnector":false} & signal:'language-issue-changed'}.
                            </template>
                        </template>

                        <template if.bind="isAnswered(responses.neuropsychological.attention.abilityToFocus)">
                            &nbsp;${gender.title} ${claimant.lastName} related that ${pronoun.possessiveAdjective} ability to focus has
                            <template if.bind="isNo(responses.neuropsychological.attention.abilityToFocus)">
                                &nbsp;not
                            </template>
                            &nbsp;been affected.
                        </template>
            
                        <template if.bind="isAnswered(responses.neuropsychological.attention.abilityToSustainAttention)">
                            &nbsp;${pronoun.subject | proper} shared that ${pronoun.subject} 
                            <template if.bind="isYes(responses.neuropsychological.attention.abilityToSustainAttention)">
                                &nbsp;has
                            </template>
                            <template else>
                                &nbsp;does not have
                            </template>
                            &nbsp;a harder time sustaining attention.
                        </template>
                        
                        <template if.bind="isAnswered(responses.neuropsychological.attention.areMoreDistractible)">
                            &nbsp;${pronoun.subject | proper} added that ${pronoun.subject} is 
                            <template if.bind="isNo(responses.neuropsychological.attention.areMoreDistractible)">
                                &nbsp;not
                            </template>
                            &nbsp;more distractible.
                        </template>
                        
                        <template if.bind="isAnswered(responses.neuropsychological.attention.loseTrackWhenReading)">
                            &nbsp;When asked about ${pronoun.possessiveAdjective} ability to read, ${gender.title} ${claimant.lastName} noted that 
                            <template if.bind="isYes(responses.neuropsychological.attention.loseTrackWhenReading)">
                                &nbsp;${pronoun.subject} may 
                            </template>
                            <template else>
                                &nbsp;generally ${pronoun.subject} does not
                            </template>
                            &nbsp;lose track when reading.
                        </template>
                        
                        <template if.bind="isAnswered(responses.neuropsychological.attention.needToReRead)">
                            <template if.bind="isYes(responses.neuropsychological.attention.needToReRead)">
                                &nbsp;${pronoun.subject | proper} went on to express that ${pronoun.subject} may need to go back and re-read
                                <template if.bind="any(responses.neuropsychological.attention.readingIssues) & signal:'reading-issues-changed'">
                                    , noting that currently ${pronoun.possessiveAdjective} ability to read is affected by ${pronoun.possessiveAdjective}: 
                                    ${selectedReadingIssues | arrayToString:{"format":getItemValueForCurrentContext} & signal:'reading-issues-changed'}
                                </template>
                                .
                            </template>
                            <template else>
                                &nbsp;${pronoun.subject | proper} denied needing to go back and re-read.
                            </template>
                        </template>
                        
                        <template if.bind="isAnswered(responses.neuropsychological.attention.loseTrackWhenWatchingTv)">
                            &nbsp;${gender.title} ${claimant.lastName} 
                            <template if.bind="isYes(responses.neuropsychological.attention.loseTrackWhenWatchingTv)">
                                &nbsp;also shared that ${pronoun.subject} finds it hard to watch television without losing track. 
                            </template>
                            <template else>
                                &nbsp;advised that ${pronoun.subject} does not lose track when ${pronoun.subject} is watching television. 
                            </template>
                        </template>
            
                        <template if.bind="isAnswered(responses.neuropsychological.attention.issuesUsingDevicesWithScreens)">
                            &nbsp;${pronoun.subject | proper} expressed that ${pronoun.possessiveAdjective} ability to use computers and devices with screens has    
                            <template if.bind="isNo(responses.neuropsychological.attention.issuesUsingDevicesWithScreens)">
                                &nbsp;not
                            </template>
                            &nbsp;been affected
                            <template if.bind="isYes(responses.neuropsychological.attention.issuesUsingDevicesWithScreens) && isAnswered(responses.neuropsychological.attention.hadToReduceScreenBrightness)">
                                <template if.bind="isYes(responses.neuropsychological.attention.hadToReduceScreenBrightness)">
                                    , adding that ${pronoun.subject} has 
                                </template>
                                <template if.bind="isNo(responses.neuropsychological.attention.hadToReduceScreenBrightness)">
                                    , but advised that ${pronoun.subject} has not
                                </template>
                                &nbsp;had to reduce the brightness of the screen
                            </template>
                            .
                        </template>
                    </p>
                
                    <!-- Executive Functioning -->
                    <p>
                        <template if.bind="anySelectedExecutiveFunctionIssues || anyUnselectedExecutiveFunctionIssues & signal:'executive-function-issue-changed'">
                            ${gender.title} ${claimant.lastName} noted that ${pronoun.possessiveAdjective} executive functioning has 
                            <template if.bind="anySelectedExecutiveFunctionIssues & signal:'executive-function-issue-changed'">
                                &nbsp;been adversely affected, including ${pronoun.possessiveAdjective} ability to: 
                                ${selectedExecutiveFunctionIssues | arrayToString:{"format":getItemValueForCurrentContext,"delimiter":"; "} & signal:'executive-function-issue-changed'}.
                    
                                <template if.bind="anyUnselectedExecutiveFunctionIssues & signal:'executive-function-issue-changed'">
                                    &nbsp;${pronoun.subject | proper} denied having any issues with ${pronoun.possessiveAdjective} ability to: 
                                    ${unselectedExecutiveFunctionIssues | arrayToString:{"format":getItemValueForCurrentContext,"delimiter":"; "} & signal:'executive-function-issue-changed'}.
                                </template>
                            </template>
                            <template else>
                                &nbsp;not been adversely affected, and specifically denied having any issues with ${pronoun.possessiveAdjective} ability to: 
                                ${unselectedExecutiveFunctionIssues | arrayToString:{"format":getItemValueForCurrentContext,"delimiter":"; "} & signal:'executive-function-issue-changed'}.
                            </template>
                        </template>
                        
                        <template if.bind="isAnswered(responses.neuropsychological.executive.inappropriateSocialBehavior)">
                            &nbsp;${gender.title} ${claimant.lastName} 
                            <template if.bind="isYes(responses.neuropsychological.executive.inappropriateSocialBehavior)">
                                &nbsp;acknowledged having inappropriate social behaviour 
                                (including ${selectedInappropriateSocialBehavior | arrayToString:{"format":getItemValue} & signal:'inappropriate-social-behavior-changed'}).
                            </template>
                            <template else>
                                &nbsp;denied having any inappropriate social behaviour (including yelling or swearing in public, violence, or sexually inappropriate behaviour). 
                            </template>
                        </template>
                    </p>
                
                    <!-- Visual Spatial -->
                    <p>
                        <template if.bind="anySelectedVisualSpatialIssues || anyUnselectedVisualSpatialIssues & signal:'visual-spatial-issue-changed'">
                            <template if.bind="anySelectedVisualSpatialIssues & signal:'visual-spatial-issue-changed'">
                                When asked about ${pronoun.possessiveAdjective} current state, ${gender.title} ${claimant.lastName} expressed that ${pronoun.subject} has experienced:
                                ${selectedVisualSpatialIssues | arrayToString:{"format":getItemValueForCurrentContext,"delimiter":"; "} & signal:'visual-spatial-issue-changed'}. 
                                <template if.bind="anyUnselectedVisualSpatialIssues & signal:'visual-spatial-issue-changed'">
                                    &nbsp;Upon inquiry, ${pronoun.subject} denied 
                                    <template if.bind="deniedAtypicalSymptomology & signal:'visual-spatial-issue-changed'">
                                        &nbsp;having any atypical symptomatology or experiencing any: 
                                        ${unselectedVisualSpatialIssues | filter:notAtypical | arrayToString:{"format":getItemValueForCurrentContext,"connector":"or","delimiter":"; "} & signal:'visual-spatial-issue-changed'}.
                                    </template>
                                    <template else>
                                        &nbsp;experiencing any: 
                                        ${unselectedVisualSpatialIssues | arrayToString:{"format":getItemValueForCurrentContext,"connector":"or","delimiter":"; "} & signal:'visual-spatial-issue-changed'}.
                                    </template>
                                </template>
                            </template>
                            <template else>
                                When asked about ${pronoun.possessiveAdjective} current state, ${gender.title} ${claimant.lastName} denied 
                                <template if.bind="deniedAtypicalSymptomology & signal:'visual-spatial-issue-changed'">
                                    &nbsp;having any atypical symptomatology or experiencing any: 
                                    ${unselectedVisualSpatialIssues | filter:notAtypical | arrayToString:{"format":getItemValueForCurrentContext,"connector":"or","delimiter":"; "} & signal:'visual-spatial-issue-changed'}.
                                </template>
                                <template else>
                                    &nbsp;experiencing any: 
                                    ${unselectedVisualSpatialIssues | arrayToString:{"format":getItemValueForCurrentContext,"connector":"or","delimiter":"; "} & signal:'visual-spatial-issue-changed'}.
                                </template>
                            </template>
                        </template>
                    </p>

                    <!-- Change in Cognition -->
                    <p>
                        <template if.bind="isAnswered(responses.neuropsychological.physical.changes.changeInCognition)">
                            When asked if ${pronoun.subject} has noticed any change with ${pronoun.possessiveAdjective} cognition with the passage of time, ${gender.title} ${claimant.lastName} shared that 
                            ${cognitiveChangeTypesMap[responses.neuropsychological.physical.changes.changeInCognition].format(self)}.
                        </template> 
                    </p>
                </div>

                <hr>
            </div>
        </fieldset>
    
        <fieldset class="uk-fieldset">
            <legend class="uk-legend">Current State (as of the last two weeks)</legend>

            <div class="uk-grid-collapse uk-child-width-1-1" uk-grid>

                <div class="report-text uk-card uk-card-body uk-card-default" contenteditable="true">
    
                    <p if.bind="anyCurrentStateTaskResponses & signal:'current-state-task-changed'">
                        When asked about ${pronoun.possessiveAdjective} ability to be involved in current regular activities ${gender.title} ${claimant.lastName} shared the following: 
                    </p>
            
                    <table class="uk-table uk-table-divider uk-table-small chart" if.bind="anyCurrentStateTaskResponses & signal:'current-state-task-changed'">
                        <thead>
                            <tr>
                                <th class="uk-padding-remove-vertical">
                                    Specific Task
                                </th>
                                <th class="uk-padding-remove-vertical">
                                    Is ${pronoun.subject} able, partially able, or unable to do the same?
                                </th>
                                <th class="uk-padding-remove-vertical">
                                    ${pronoun.possessiveAdjective | proper} ability to do said task is currently affected by ${pronoun.possessiveAdjective}: 
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <template repeat.for="task of responses.neuropsychological.currentState.tasks | filter:isNotSkipAbilityWithContext & signal:'current-state-task-changed'">
                                <tr>
                                    <td class="uk-padding-remove-vertical">${currentStateTasksMap[task.value].description}</td>
                                    <template if.bind="task.isNA">
                                        <td colspan="2" class="uk-padding-remove-vertical" style="text-align:center;">Not applicable</td>
                                    </template>
                                    <template else>
                                        <td class="uk-padding-remove-vertical" style="text-align:center;">
                                            ${currentStateAbilitiesMap[task.ability].format(self)}
                                            <template if.bind="task.isCaregiving && isCaregivingAbilityAnswered && isAnswered(responses.neuropsychological.currentState.caregivingCasInvolved) & signal:'current-state-task-changed'">
                                                *
                                            </template>
                                        </td>
                                        <td class="uk-padding-remove-vertical" style="text-align:center;">
                                            ${currentStateIssuesSorted(task.issues) | arrayToString:{"format":currentStateIssueTextWithContext} & signal:'current-state-task-changed'}
                                        </td>
                                    </template>
                                </tr>
                                <tr if.bind="task.isCaregiving && isCaregivingAbilityAnswered && isAnswered(responses.neuropsychological.currentState.caregivingCasInvolved) & signal:'current-state-task-changed'">
                                    <td colspan="3" class="uk-padding-remove-vertical">
                                        *Upon inquiry, ${gender.title} ${claimant.lastName} advised that the Childrens Aid Society has 
                                        <template if.bind="isNo(responses.neuropsychological.currentState.caregivingCasInvolved)">
                                            &nbsp;not
                                        </template>
                                        &nbsp;been involved. 
                                    </td>
                                </tr>
                            </template>
                        </tbody>
                    </table>

                    <!-- Social Activities -->
                    <p>
                        <template if.bind="anyPreAccidentRecreationalActivities">
                            <template if.bind="responses.version >= 27">
                                In terms of ${pronoun.possessiveAdjective} pre-accident social and recreational activities, ${gender.title} ${claimant.lastName} shared that ${pronoun.subject} was involved with: ${responses.neuropsychological.currentState.preAccidentRecreationalActivities | arrayToString:{"format":getRecreationalActivityDescriptionForCurrentContext,"delimiter":"; "}}.
                            </template>
                            <template else>
                                In terms of ${pronoun.possessiveAdjective} pre-accident social and recreational activities, ${gender.title} ${claimant.lastName} shared that ${pronoun.subject} enjoyed ${responses.neuropsychological.currentState.preAccidentRecreationalActivities | arrayToString}.
                            </template>
                        </template>
                    </p>

                    <!-- Travel Since Accident -->
                    <template if.bind="isAnswered(responses.neuropsychological.currentState.travel.sinceAccident)">
                        <p>
                            When asked if ${pronoun.subject} had gone on vacation or traveled since the subject accident, ${gender.title} ${claimant.lastName} 
                            <template if.bind="isNo(responses.neuropsychological.currentState.travel.sinceAccident)">
                                &nbsp;denied the same.
                            </template>
                            <template if.bind="isYes(responses.neuropsychological.currentState.travel.sinceAccident)">
                                &nbsp;shared that ${pronoun.subject} has traveled to ${responses.neuropsychological.currentState.travel.where} for ${responses.neuropsychological.currentState.travel.howLong.number | numberText | lower} ${responses.neuropsychological.currentState.travel.howLong.period}. 
                            </template>
                        </p>
                    </template>
                </div>

                <hr>
            </div>
        </fieldset>

        <fieldset id="personalHistory" class="uk-fieldset">
            <legend class="uk-legend">Personal History</legend>

            <div class="uk-grid-collapse uk-child-width-1-1" uk-grid>

                <div class="report-text uk-card uk-card-body uk-card-default" contenteditable="true">
                    <!-- Birth / Languages / Relationship / Familial Stress / Abusive Relationships -->
                    <p>
                        <template if.bind="responses.personalHistory.locationOfBirth">
                            ${gender.title} ${claimant.lastName} was born on ${claimant.dateOfBirth | dateFormat:"MMMM D, YYYY"} in ${responses.personalHistory.locationOfBirth & signal:'birth-location-changed'}. 
                        </template>
                        
                        <template if.bind="knownLanguages.length & signal:'languages-changed'">
                            &nbsp;${pronoun.subject | proper} is a ${claimant.dateOfBirth | age}-year-old ${claimant.gender | gender | lower} who identified
                            <template if.bind="knownLanguages.length === 1 & signal:'languages-changed'">
                                &nbsp;${knownLanguages | arrayToString & signal:'languages-changed'} as ${pronoun.possessiveAdjective} first language.
                            </template>
                            <template else>
                                &nbsp;${pronoun.possessiveAdjective} known languages as ${knownLanguages | arrayToString & signal:'languages-changed'}.
                            </template>    
                        </template>

                        <template if.bind="isAnswered(responses.personalHistory.relationship.status)">
                            &nbsp;${pronoun.subject | proper} advised that ${pronoun.subject} is ${relationshipStatusesMap[responses.personalHistory.relationship.status].format(self)}
                            <template if.bind="isMarriedOrCommonLaw & signal:'relationship-status-changed'">
                                <template if.bind="responses.personalHistory.relationship.marriageLength.value && !responses.personalHistory.relationship.dontKnowMarriageLength">
                                    &nbsp;for ${getAgeTextForCurrentContext(responses.personalHistory.relationship.marriageLength) & signal:'marriage-length-changed'} now
                                </template>
                                <template if.bind="relationshipStatusesMap[responses.personalHistory.relationship.status].isMarried & signal:'relationship-status-changed'">
                                    &nbsp;to
                                </template>
                                <template else>
                                    &nbsp;with
                                </template>
                                 &nbsp;${pronoun.possessiveAdjective} 
                                 <template if.bind="responses.personalHistory.relationship.partnerAge && !responses.personalHistory.relationship.dontKnowPartnerAge">
                                    &nbsp;${responses.personalHistory.relationship.partnerAge}-year-old partner
                                 </template>
                                 <template else>
                                    &nbsp;partner
                                 </template>
                                 <template if.bind="responses.personalHistory.relationship.partnerJobTitle">
                                    &nbsp;who has experience working 
                                    <template if.bind="responses.personalHistory.relationship.partnerJobTitleOrIndustry === 'title'">
                                    &nbsp;as a ${responses.personalHistory.relationship.partnerJobTitle}
                                    </template>
                                    <template if.bind="responses.personalHistory.relationship.partnerJobTitleOrIndustry === 'industry'">
                                    &nbsp;in the ${responses.personalHistory.relationship.partnerJobTitle} industry
                                    </template>
                                 </template>
                                 <template if.bind="responses.personalHistory.relationship.dontKnowPartnerAge">
                                    &nbsp;${gender.title} ${claimant.lastName} advised ${pronoun.subject} did not know the current age of ${pronoun.possessiveAdjective} partner.
                                 </template>
                                 <template if.bind="">
                                    &nbsp;${pronoun.subject | proper} reported that ${pronoun.subject} did not know how long ${pronoun.subject} had been in ${pronoun.possessiveAdjective} current relationship.
                                 </template>
                            </template>
                            . 
                        </template>

                        <template if.bind="isAnswered(responses.personalHistory.relationship.isAbusive)">
                            &nbsp;${gender.title} ${claimant.lastName} 
                            <template if.bind="isYes(responses.personalHistory.relationship.isAbusive)">
                                &nbsp;disclosed that ${pronoun.subject} is
                            </template>
                            <template else>
                                &nbsp;confirmed that ${pronoun.subject} is not
                            </template>
                            &nbsp;currently in an abusive relationship
                            <template if.bind="isAnswered(responses.personalHistory.relationship.previousRelationshipAbusive)">
                                <template if.bind="isYes(responses.personalHistory.relationship.previousRelationshipAbusive)">
                                    , but acknowledged that in the past ${pronoun.subject} was in an abusive relationship
                                </template>
                                <template else>
                                    , nor has ${pronoun.subject} been in an abusive relationship in the past
                                </template>
                            </template>
                            . 
                        </template>

                        <template if.bind="isAnswered(responses.personalHistory.relationship.hadPriorSeriousRelationship)">
                            <template if.bind="isYes(responses.personalHistory.relationship.hadPriorSeriousRelationship)">
                                &nbsp;When asked about any previous serious relationships, ${pronoun.subject} shared that ${pronoun.subject} was in a relationship
                                <template if.bind="isAnswered(responses.personalHistory.relationship.priorSeriousRelationshipLength.value)">
                                    &nbsp;for a period of ${getAgeTextForCurrentContext(responses.personalHistory.relationship.priorSeriousRelationshipLength) & signal:'prior-serious-relationship-length-changed'}
                                </template>
                                <template if.bind="isAnswered(responses.personalHistory.relationship.priorSeriousRelationshipReasonEnded)">
                                    , adding that this ended due to ${responses.personalHistory.relationship.priorSeriousRelationshipReasonEnded}.
                                </template>
                            </template>
                            <template else>
                                &nbsp;${gender.title} ${claimant.lastName} denied having any prior serious relationships.
                            </template>
                        </template>

                    </p>
                    
                    <!-- Growing up -->
                    <p>
                        <template if.bind="responses.personalHistory.growingUp.socioeconomicClass">
                            ${gender.title} ${claimant.lastName} advised that ${pronoun.subject} was raised in ${getItemValueForCurrentContext(getMatch(socioeconomicStatuses, responses.personalHistory.growingUp.socioeconomicClass))}.
                        </template>
    
                        <template if.bind="yesAbuseTypes.length || noAbuseTypes.length & signal:'growing-up-abuse-changed'">
                            <template if.bind="noAbuseGrowingUp & signal:'growing-up-abuse-changed'">
                                &nbsp;${gender.title} ${claimant.lastName} denied having any history of physical, mental or sexual abuse during ${pronoun.possessiveAdjective} childhood.
                            </template>
                            <template else>
                                &nbsp;When asked about any abuse when ${pronoun.subject} was growing up, 
                                <template if.bind="yesAbuseTypes.length & signal:'growing-up-abuse-changed'">
                                    &nbsp;${pronoun.subject} acknowledged having a history of ${yesAbuseTypes | arrayToString:{"format":getItemValue} & signal:'growing-up-abuse-changed'} abuse.
                                </template>
                                <template if.bind="noAbuseTypes.length & signal:'growing-up-abuse-changed'">
                                    <template if.bind="yesAbuseTypes.length & signal:'growing-up-abuse-changed'">
                                        &nbsp;${pronoun.subject | proper}
                                    </template>
                                    <template else>
                                        &nbsp;${pronoun.subject} 
                                    </template>
                                    &nbsp;denied experiencing any ${noAbuseTypes | arrayToString:{"format":getItemValue,"connector":"or"} & signal:'growing-up-abuse-changed'} abuse.
                                </template>
                            </template>
                        </template>
    
                        <template if.bind="isYes(responses.personalHistory.growingUp.developmentalMilestoneIssues)">
                            &nbsp;${gender.title} ${claimant.lastName} shared that ${pronoun.subject} believes that ${pronoun.subject} did not meet the development milestones (i.e. walking/talking/toilet training) at the appropriate ages.
                        </template>
                        <template if.bind="isNo(responses.personalHistory.growingUp.developmentalMilestoneIssues)">
                            &nbsp;To the best of ${pronoun.possessiveAdjective} knowledge, ${gender.title} ${claimant.lastName} believes that ${pronoun.subject} hit all developmental milestones (i.e. walking/talking/toilet training) as expected.
                        </template>
    
                        <template if.bind="responses.personalHistory.timeOfArrivalInCanada">
                            &nbsp;${pronoun.subject | proper} noted that ${pronoun.subject} came to Canada in ${responses.personalHistory.timeOfArrivalInCanada}.
                        </template>
                        <template if.bind="responses.personalHistory.arrivalInCanadaType && !responses.personalHistory.skipArrivalInCanada">
                            &nbsp;${pronoun.subject | proper} noted that ${pronoun.subject} came to Canada 
                            <template if.bind="responses.personalHistory.arrivalInCanadaType === 'year'">
                                &nbsp;in ${responses.personalHistory.arrivalInCanadaYear}
                            </template>
                            <template if.bind="responses.personalHistory.arrivalInCanadaType === 'age'">
                                &nbsp;when ${pronoun.subject} was ${responses.personalHistory.arrivalInCanadaAge} years old
                            </template>
                            .
                        </template>
                    </p>
                </div>

                <hr>
            </div>
        </fieldset>

        <fieldset class="uk-fieldset">
            <legend class="uk-legend">Information about your family</legend>

            <div class="uk-grid-collapse uk-child-width-1-1" uk-grid>
            
                <div class="report-text uk-card uk-card-body uk-card-default" contenteditable="true">
                    <!-- Father / Mother / Brothers / Sisters / Sons / Daughters -->
                    <p>
                        <!--
                        <template if.bind="!responses.personalHistory.father.skip">
                            <template if.bind="!isSkip(responses.personalHistory.father.isAlive)">
                                ${gender.title} ${claimant.lastName} advised that 
                                <template if.bind="isDontKnow(responses.personalHistory.father.isAlive)">
                                    &nbsp;${pronoun.subject} does not know whether ${pronoun.possessiveAdjective} father is currently living.
                                </template>
                                <template if.bind="isYes(responses.personalHistory.father.isAlive)">
                                    &nbsp;${pronoun.possessiveAdjective} father is still alive

                                    <template if.bind="!responses.personalHistory.father.age.skip">
                                        <template if.bind="responses.personalHistory.father.age.dontKnow">
                                            , however ${pronoun.subject} does not know his current age
                                        </template>
                                        <template else>
                                            <template if.bind="isAnswered(responses.personalHistory.father.age.value)">
                                                &nbsp;and ${responses.personalHistory.father.age.value}
                                            </template>
                                        </template>
                                    </template>
                                </template>
                                <template if.bind="isNo(responses.personalHistory.father.isAlive)">
                                    &nbsp;${pronoun.possessiveAdjective} father is no longer alive
                                    <template if.bind="!responses.personalHistory.father.yearOfDeath.skip">
                                        <template if.bind="responses.personalHistory.father.yearOfDeath.dontKnow">
                                            , adding that ${pronoun.subject} does not know when he died.
                                        </template>
                                        <template else>
                                            , adding that he died
                                            <template if.bind="responses.personalHistory.father.yearOfDeath.value & signal:'father-death-changed'">
                                                &nbsp;in ${responses.personalHistory.father.yearOfDeath.value & signal:'father-death-changed'}    
                                            </template>

                                            <template if.bind="!responses.personalHistory.father.age.skip">
                                                <template if.bind="responses.personalHistory.father.age.dontKnow">
                                                </template>
                                                <template else>
                                                    <template if.bind="isAnswered(responses.personalHistory.father.age.value)">
                                                        &nbsp;${responses.personalHistory.father.age.value}
                                                    </template>
                                                </template>
                                            </template>

                                            <template if.bind="!responses.personalHistory.father.causeOfDeath.skip">
                                                <template if.bind="responses.personalHistory.father.causeOfDeath.dontKnow">
                                                    &nbsp;but ${pronoun.subject} does not know the cause of his death.
                                                </template>
                                                <template else>
                                                    <template if.bind="responses.personalHistory.father.causeOfDeath.value & signal:'father-death-changed'">
                                                        &nbsp;with ${responses.personalHistory.father.causeOfDeath.value & signal:'father-death-changed'}
                                                    </template>
                                                </template>
                                            </template>
                                        </template>
                                    </template>
                                </template>
                                .
                            </template>

                            <template if.bind="!(responses.personalHistory.father.educationLevel.skip && responses.personalHistory.father.employmentAreas.skip) & signal:'father-education-or-employment-changed'">
                                &nbsp;${gender.title} ${claimant.lastName}
                                <template if.bind="!responses.personalHistory.father.educationLevel.skip">
                                    <template if.bind="responses.personalHistory.father.educationLevel.dontKnow">
                                        &nbsp;indicated that ${pronoun.subject} does not know the level of education completed by ${pronoun.possessiveAdjective} father.
                                    </template>
                                    <template else>
                                        <template if.bind="responses.personalHistory.father.educationLevel.value & signal:'father-education-or-employment-changed'">
                                            's father attended ${responses.personalHistory.father.educationLevel.value & signal:'father-education-or-employment-changed'}
                                        </template>
                                    </template>
                                </template>
                                <template if.bind="!responses.personalHistory.father.employmentAreas.skip">
                                    <template if.bind="responses.personalHistory.father.employmentAreas.dontKnow">
                                        . 
                                    </template>
                                </template>
                                .
                            </template>
                            
                            <template if.bind="responses.personalHistory.father.educationLevel || responses.personalHistory.father.employmentAreas & signal:'father-education-or-employment-changed'">
                                &nbsp;${gender.title} ${claimant.lastName}s father 
                                <template if.bind="responses.personalHistory.father.educationLevel & signal:'father-education-or-employment-changed'">
                                    &nbsp;attended ${responses.personalHistory.father.educationLevel & signal:'father-education-or-employment-changed'} 
                                </template>
                                <template if.bind="responses.personalHistory.father.employmentAreas & signal:'father-education-or-employment-changed'">
                                    <template if.bind="responses.personalHistory.father.educationLevel & signal:'father-education-or-employment-changed'">
                                        &nbsp;and
                                    </template>
                                    &nbsp;had experience working as ${responses.personalHistory.father.employmentAreas & signal:'father-education-or-employment-changed'}
                                </template>
                                .
                            </template>
                        </template>
                        
                        <template if.bind="responses.personalHistory.mother.yearOfBirth & signal:'mother-birth-year-changed'">
                            &nbsp;${gender.title} ${claimant.lastName} shared that ${pronoun.possessiveAdjective} mother was born in ${responses.personalHistory.mother.yearOfBirth & signal:'mother-birth-year-changed'}.
                        </template>
                
                        <template if.bind="isAnswered(responses.personalHistory.mother.isAlive)">
                            &nbsp;${gender.title} ${claimant.lastName} went on to note that ${pronoun.possessiveAdjective} mother is 
                            <template if.bind="isYes(responses.personalHistory.mother.isAlive)">
                                &nbsp;currently ${responses.personalHistory.mother.yearOfBirth | age & signal:'mother-birth-year-changed'}
                            </template>
                            <template if.bind="isNo(responses.personalHistory.mother.isAlive)">
                                &nbsp;no longer alive
                                <template if.bind="responses.personalHistory.mother.yearOfDeath || responses.personalHistory.mother.causeOfDeath & signal:'mother-death-changed'">
                                    , adding that she died 
                                    <template if.bind="responses.personalHistory.mother.yearOfDeath & signal:'mother-death-changed'">
                                        &nbsp;in ${responses.personalHistory.mother.yearOfDeath & signal:'mother-death-changed'}
                                    </template>
                                    <template if.bind="responses.personalHistory.mother.causeOfDeath & signal:'mother-death-changed'">
                                        &nbsp;with ${responses.personalHistory.mother.causeOfDeath & signal:'mother-death-changed'}
                                    </template>
                                </template>
                            </template>
                            .
                        </template>
                        
                        <template if.bind="responses.personalHistory.mother.educationLevel || responses.personalHistory.mother.employmentAreas & signal:'mother-education-or-employment-changed'">
                            &nbsp;${gender.title} ${claimant.lastName}s mother 
                            <template if.bind="responses.personalHistory.mother.educationLevel & signal:'mother-education-or-employment-changed'">
                                &nbsp;attended ${responses.personalHistory.mother.educationLevel & signal:'mother-education-or-employment-changed'} 
                            </template>
                            <template if.bind="responses.personalHistory.mother.employmentAreas & signal:'mother-education-or-employment-changed'">
                                <template if.bind="responses.personalHistory.mother.educationLevel & signal:'mother-education-or-employment-changed'">
                                    &nbsp;and
                                </template>
                                &nbsp;had experience working as ${responses.personalHistory.mother.employmentAreas & signal:'mother-education-or-employment-changed'}
                            </template>
                            .
                        </template>

                        <template if.bind="isAnswered(responses.personalHistory.didParentsSeparateOrDivorce)">
                            &nbsp;Upon inquiry, ${gender.title} ${claimant.lastName} shared that ${pronoun.possessiveAdjective} parents 
                            <template if.bind="isYes(responses.personalHistory.didParentsSeparateOrDivorce)">
                                &nbsp;did not remain together.
                            </template>
                            <template else>
                                &nbsp;remained together.
                            </template>
                        </template>
            
                        <template if.bind="!skipSiblings">
                            <template if.bind="siblingCount === 0 & signal:'sibling-count-changed'">
                                &nbsp;${gender.title} ${claimant.lastName} advised that ${pronoun.subject} is an only child.
                            </template>
                
                            <template if.bind="!responses.personalHistory.brothers.skip">
                                <template if.bind="responses.personalHistory.brothers.howMany == 1 & signal:'sibling-count-changed'">
                                    &nbsp;${gender.title} ${claimant.lastName} reported that ${pronoun.subject} has a brother
                                    <template if.bind="!responses.personalHistory.brothers.skipAges">
                                        &nbsp;who is currently 
                                        ${getAgeTextForCurrentContext(responses.personalHistory.brothers.ages[0]) & signal:'sibling-count-changed'} old
                                    </template>
                                    .
                                </template>
                                <template if.bind="responses.personalHistory.brothers.howMany > 1 & signal:'sibling-count-changed'">
                                    &nbsp;${gender.title} ${claimant.lastName} reported that ${pronoun.subject} has ${responses.personalHistory.brothers.howMany | numberText | lower} brothers
                                    <template if.bind="!responses.personalHistory.brothers.skipAges">
                                        &nbsp;who are currently 
                                        ${responses.personalHistory.brothers.ages | sortArray:[{"property": "unit", "direction": "asc"},{"property": "value", "direction": "asc"}]:true | arrayToString:{"format":getAgeTextForCurrentContext} & signal:'sibling-count-changed'} old
                                    </template>
                                    .
                                </template>
                            </template>
                            
                            <template if.bind="!responses.personalHistory.sisters.skip">
                                <template if.bind="responses.personalHistory.sisters.howMany == 1 & signal:'sibling-count-changed'">
                                    &nbsp;${gender.title} ${claimant.lastName} then shared that ${pronoun.subject} has a sister
                                    <template if.bind="!responses.personalHistory.sisters.skipAges">
                                        &nbsp;who is currently 
                                        ${getAgeTextForCurrentContext(responses.personalHistory.sisters.ages[0]) & signal:'sibling-count-changed'} old
                                    </template>
                                    .
                                </template>
                                <template if.bind="responses.personalHistory.sisters.howMany > 1 & signal:'sibling-count-changed'">
                                    &nbsp;${gender.title} ${claimant.lastName} then shared that ${pronoun.subject} has ${responses.personalHistory.sisters.howMany | numberText | lower} sisters
                                    <template if.bind="!responses.personalHistory.sisters.skipAges">
                                        &nbsp;who are currently 
                                        ${responses.personalHistory.sisters.ages | sortArray:[{"property": "unit", "direction": "asc"},{"property": "value", "direction": "asc"}]:true | arrayToString:{"format":getAgeTextForCurrentContext} & signal:'sibling-count-changed'} old
                                    </template>
                                    .
                                </template>
                            </template>
                            
                            <template if.bind="siblingCount > 0">
                                &nbsp;${gender.title} ${claimant.lastName} disclosed that ${pronoun.subject} is the ${birthPositionText & signal:'sibling-count-changed'}.
                            </template>
                        </template>
                    
                        
                        <template if.bind="!skipChildren">
                            <template if.bind="childCount === 0 & signal:'child-count-changed'">
                                &nbsp;${gender.title} ${claimant.lastName} indicated that ${pronoun.subject} has no children.
                            </template>
                
                            <template if.bind="!responses.personalHistory.children.sons.skip">
                                <template if.bind="responses.personalHistory.children.sons.howMany == 1 & signal:'child-count-changed'">
                                    &nbsp;${gender.title} ${claimant.lastName} reported that ${pronoun.subject} has a son
                                    <template if.bind="!responses.personalHistory.children.sons.skipAges">
                                        &nbsp;who is currently 
                                        ${getAgeTextForCurrentContext(responses.personalHistory.children.sons.ages[0]) & signal:'child-count-changed'} old
                                    </template>
                                    .
                                </template>
                                <template if.bind="responses.personalHistory.children.sons.howMany > 1 & signal:'child-count-changed'">
                                    &nbsp;${gender.title} ${claimant.lastName} reported that ${pronoun.subject} has ${responses.personalHistory.children.sons.howMany | numberText | lower} sons
                                    <template if.bind="!responses.personalHistory.children.sons.skipAges">
                                        &nbsp;who are currently 
                                        ${responses.personalHistory.children.sons.ages | sortArray:[{"property": "unit", "direction": "asc"},{"property": "value", "direction": "asc"}]:true | arrayToString:{"format":getAgeTextForCurrentContext} & signal:'child-count-changed'} old
                                    </template>
                                    .
                                </template>
                            </template>
                            
                            <template if.bind="!responses.personalHistory.children.daughters.skip">
                                <template if.bind="responses.personalHistory.children.daughters.howMany == 1 & signal:'child-count-changed'">
                                    &nbsp;${gender.title} ${claimant.lastName} then shared that ${pronoun.subject} has a daughter
                                    <template if.bind="!responses.personalHistory.children.daughters.skipAges">
                                        &nbsp;who is currently 
                                        ${getAgeTextForCurrentContext(responses.personalHistory.children.daughters.ages[0]) & signal:'child-count-changed'} old
                                    </template>
                                    .
                                </template>
                                <template if.bind="responses.personalHistory.children.daughters.howMany > 1 & signal:'child-count-changed'">
                                    &nbsp;${gender.title} ${claimant.lastName} then shared that ${pronoun.subject} has ${responses.personalHistory.children.daughters.howMany | numberText | lower} daughters
                                    <template if.bind="!responses.personalHistory.children.daughters.skipAges">
                                        &nbsp;who are currently 
                                        ${responses.personalHistory.children.daughters.ages | sortArray:[{"property": "unit", "direction": "asc"},{"property": "value", "direction": "asc"}]:true | arrayToString:{"format":getAgeTextForCurrentContext} & signal:'child-count-changed'} old
                                    </template>
                                    .
                                </template>
                            </template>
                        </template>
                        -->
                        <template if.bind="(anySelectedNeurologicalOrPsychiatricDiagnosis || anyUnselectedNeurologicalOrPsychiatricDiagnosis || anyDontKnowNeurologicalOrPsychiatricDiagnosis || anySelectedFamilyNeurologicalOrPsychiatricDiagnosis || anyUnselectedFamilyNeurologicalOrPsychiatricDiagnosis || anyDontKnowFamilyNeurologicalOrPsychiatricDiagnosis) & signal:'neurological-psychiatric-disease-changed'">
                            When ${gender.title} ${claimant.lastName} was asked about any personal or familial history, 
                            
                            <template if.bind="anySelectedNeurologicalOrPsychiatricDiagnosis & signal:'neurological-psychiatric-disease-changed'">
                                &nbsp;${pronoun.subject} shared that ${pronoun.subject} personally has been diagnosed with ${selectedNeurologicalOrPsychiatricDiagnosis | arrayToString:{"format":getItemValueForCurrentContext} & signal:'neurological-psychiatric-disease-changed'}.
                            </template>
                            <template if.bind="anyUnselectedNeurologicalOrPsychiatricDiagnosis & signal:'neurological-psychiatric-disease-changed'">
                                <template if.bind="anySelectedNeurologicalOrPsychiatricDiagnosis & signal:'neurological-psychiatric-disease-changed'">
                                    &nbsp;${pronoun.subject | proper}
                                </template>
                                <template else>
                                    &nbsp;${pronoun.subject}
                                </template>
                                &nbsp;denied ever being diagnosed with any ${unselectedNeurologicalOrPsychiatricDiagnosis | arrayToString:{"format":getItemValueForCurrentContext,"connector":"or"} & signal:'neurological-psychiatric-disease-changed'}.
                            </template>
                            <template if.bind="anyDontKnowNeurologicalOrPsychiatricDiagnosis & signal:'neurological-psychiatric-disease-changed'">
                                <template if.bind="anySelectedNeurologicalOrPsychiatricDiagnosis || anyUnselectedNeurologicalOrPsychiatricDiagnosis & signal:'neurological-psychiatric-disease-changed'">
                                    &nbsp;${pronoun.subject | proper}
                                </template>
                                <template else>
                                    &nbsp;${pronoun.subject}
                                </template>
                                &nbsp;advised that ${pronoun.subject} did not know whether ${pronoun.subject} had ever been diagnosed with ${dontKnowNeurologicalOrPsychiatricDiagnosis | arrayToString:{"format":getItemValueForCurrentContext,"connector":"or"} & signal:'neurological-psychiatric-disease-changed'}.
                            </template>
                            <template if.bind="anySelectedFamilyNeurologicalOrPsychiatricDiagnosis & signal:'neurological-psychiatric-disease-changed'">                                
                                <template if.bind="anySelectedNeurologicalOrPsychiatricDiagnosis || anyUnselectedNeurologicalOrPsychiatricDiagnosis & signal:'neurological-psychiatric-disease-changed'">
                                    &nbsp;${pronoun.subject | proper} 
                                </template>
                                <template else>
                                    &nbsp;${pronoun.subject} 
                                </template>
                                &nbsp;disclosed that members of ${pronoun.possessiveAdjective} family have been diagnosed with ${selectedFamilyNeurologicalOrPsychiatricDiagnosis | arrayToString:{"format":getFamilyNeurologicalOrPsychiatricDiseasesTextForCurrentContext} & signal:'neurological-psychiatric-disease-changed'}
                                <template if.bind="anyUnselectedFamilyNeurologicalOrPsychiatricDiagnosis & signal:'neurological-psychiatric-disease-changed'">
                                    &nbsp;but not ${unselectedFamilyNeurologicalOrPsychiatricDiagnosis | arrayToString:{"format":getItemValueForCurrentContext,"connector":"or"} & signal:'neurological-psychiatric-disease-changed'}
                                </template>
                                .
                            </template>
                            <template if.bind="!anySelectedFamilyNeurologicalOrPsychiatricDiagnosis && anyUnselectedFamilyNeurologicalOrPsychiatricDiagnosis & signal:'neurological-psychiatric-disease-changed'">
                                <template if.bind="anySelectedNeurologicalOrPsychiatricDiagnosis || anyUnselectedNeurologicalOrPsychiatricDiagnosis & signal:'neurological-psychiatric-disease-changed'">
                                    &nbsp;${pronoun.subject | proper}
                                </template>
                                <template else>
                                    &nbsp;${pronoun.subject}
                                </template>
                                &nbsp;then denied having any family history of ${unselectedFamilyNeurologicalOrPsychiatricDiagnosis | arrayToString:{"format":getItemValueForCurrentContext,"connector":"or"} & signal:'neurological-psychiatric-disease-changed'}.
                            </template>
                            <template if.bind="anyDontKnowFamilyNeurologicalOrPsychiatricDiagnosis & signal:'neurological-psychiatric-disease-changed'">
                                &nbsp;${pronoun.subject | proper} then disclosed that ${pronoun.subject} did not know whether members of ${pronoun.possessiveAdjective} family have been diagnosed with ${dontKnowFamilyNeurologicalOrPsychiatricDiagnosis | arrayToString:{"format":getItemValueForCurrentContext} & signal:'neurological-psychiatric-disease-changed'}.
                            </template>
                        </template>
                    </p>
                </div>

                <hr>
            </div>
        </fieldset>

        <br>
        <br>
    </div>
</template>