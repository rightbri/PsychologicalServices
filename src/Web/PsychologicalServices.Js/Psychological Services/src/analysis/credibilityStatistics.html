<template>
    <require from="resources/value-converters/numeric"></require>
    <require from="resources/value-converters/sort-array"></require>
    <require from="common/fixed-header"></require>
	<require from="content/css/fixed-header.css"></require>

<fieldset class="uk-fieldset">
    <legend class="uk-legend">Credibility Statistics</legend>
</fieldset>

<div class="uk-overflow-auto" if.bind="credibilityData">

    <ul uk-tab="swiping: false">
        <li>
            <a href="#" click.delegate="showTab(0)">Summary By Year</a>
        </li>
        <li>
            <a href="#" click.delegate="showTab(1)">Not Credible Summary By Year</a>
        </li>
        <li>
            <a href="#" click.delegate="showTab(2)">Summary By Psychometrist By Year</a>
        </li>
    </ul>

    <ul class="uk-switcher">
        <li>
            <div class="uk-overflow-auto" if.bind="visibleTab === 0">
                <table class="uk-table uk-table-divider uk-table-small uk-table-striped uk-table-hover" fixed-header>
                    <thead>
                        <tr>
                            <th>Type</th>
                            <th>Year</th>
                            <th>Total</th>
                            <th>Credible</th>
                            <th>Not Credible</th>
                            <th>Questionable</th>
                            <th>Credible %</th>
                            <th>Not Credible %</th>
                            <th>Questionable %</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr repeat.for="item of credibilityData.credibilityByYearSummaryData">
                            <td>${item.type}</td>
                            <td>${item.year}</td>
                            <td>${item.credibilityTotal | numeric:'0,0'}</td>
                            <td>${item.credible | numeric:'0,0'}</td>
                            <td>${item.notCredible | numeric:'0,0'}</td>
                            <td>${item.questionable | numeric:'0,0'}</td>
                            <td>${item.credibleRate | numeric:'0.00%'}</td>
                            <td>${item.notCredibleRate | numeric:'0.00%'}</td>
                            <td>${item.questionableRate | numeric:'0.00%'}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </li>
        <li>
            <div class="uk-overflow-auto" if.bind="visibleTab === 1">
                <table class="uk-table uk-table-divider uk-table-small uk-table-striped uk-table-hover" fixed-header>
                    <thead>
                        <tr>
                            <th>Type</th>
                            <th>Year</th>
                            <th>Total</th>
                            <th>With Reader</th>
                            <th>Without Reader</th>
                            <th>With Translator</th>
                            <th>Without Translator</th>
                            <th>With Reader %</th>
                            <th>Without Reader %</th>
                            <th>With Translator %</th>
                            <th>Without Translator %</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr repeat.for="item of credibilityData.notCredibleByYearSummaryData">
                            <td>${item.type}</td>
                            <td>${item.year}</td>
                            <td>${item.count | numeric:'0,0'}</td>
                            <td>${item.withReader | numeric:'0,0'}</td>
                            <td>${item.withoutReader | numeric:'0,0'}</td>
                            <td>${item.withTranslator | numeric:'0,0'}</td>
                            <td>${item.withoutTranslator | numeric:'0,0'}</td>
                            <td>${item.withReaderRate | numeric:'0.00%'}</td>
                            <td>${item.withoutReaderRate | numeric:'0.00%'}</td>
                            <td>${item.withTranslatorRate | numeric:'0.00%'}</td>
                            <td>${item.withoutTranslatorRate | numeric:'0.00%'}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </li>
        <li>
            <div class="uk-overflow-auto" if.bind="visibleTab === 2">
                <table class="uk-table uk-table-divider uk-table-small uk-table-striped uk-table-hover" fixed-header>
                    <thead>
                        <tr>
                            <th>Type</th>
                            <th>Year</th>
                            <th>Psychometrist</th>
                            <th>Total</th>
                            <th>Credible</th>
                            <th>Not Credible</th>
                            <th>Questionable</th>
                            <th>Credible %</th>
                            <th>Not Credible %</th>
                            <th>Questionable %</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr repeat.for="item of credibilityData.credibilityByPsychometristSummaryData">
                            <td>${item.type}</td>
                            <td>${item.year}</td>
                            <td>${item.psychometrist}</td>
                            <td>${item.credibilityTotal | numeric:'0,0'}</td>
                            <td>${item.credible | numeric:'0,0'}</td>
                            <td>${item.notCredible | numeric:'0,0'}</td>
                            <td>${item.questionable | numeric:'0,0'}</td>
                            <td>${item.credibleRate | numeric:'0.00%'}</td>
                            <td>${item.notCredibleRate | numeric:'0.00%'}</td>
                            <td>${item.questionableRate | numeric:'0.00%'}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </li>
    </ul>

</div>

</template>